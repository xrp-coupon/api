{"version":3,"sources":["utils/url/index.js","components/navbar/index.js","components/carousel/index.js","constants/strings/index.js","store/looks/index.js","store/scripts/index.js","context/index.js","routes/looks/index.js","routes/shopify/Authorize.js","App.js","utils/media/index.js","store/files/index.js","components/upload/index.js","routes/look/index.js","routes/settings/index.js","store/products/index.js","routes/embed/index.js","routes/index.js","index.js"],"names":["parseQuery","queryString","window","location","search","query","pairs","substr","split","i","length","pair","decodeURIComponent","WithSubnavigation","useDisclosure","isOpen","onToggle","bg","useColorModeValue","color","minH","py","base","px","borderBottom","borderStyle","borderColor","align","flex","md","alignItems","ml","display","onClick","history","back","justifyContent","boxSize","icon","w","h","variant","justify","cursor","in","animateOpacity","DesktopNav","linkColor","linkHoverColor","popoverContentBgColor","direction","spacing","NAV_ITEMS","map","navItem","trigger","placement","p","to","href","fontSize","fontWeight","_hover","textDecoration","label","children","border","boxShadow","rounded","minW","child","DesktopSubNav","subLabel","role","transition","_groupHover","transform","opacity","as","ChevronRightIcon","MobileNav","MobileNavItem","Link","ChevronDownIcon","style","marginTop","mt","pl","borderLeft","settings","dots","arrows","fade","infinite","autoplay","speed","autoplaySpeed","slidesToShow","slidesToScroll","CaptionCarousel","props","React","useState","slider","setSlider","top","useBreakpointValue","side","medias","position","height","width","overflow","borderWidth","shadow","margin","left","zIndex","slickPrev","size","right","slickNext","ref","media","index","backgroundPosition","backgroundRepeat","backgroundSize","backgroundImage","url","src","padding","bottom","background","INTERNAL_SERVER_ERROR","INITIAL_LOOKS_STATE","get","loading","success","ok","data","failure","error","message","post","patch","destroy","useLooksStore","create","set","looks","getLooks","a","id","shop","lookbook","produce","state","axios","process","console","code","Parse","Error","INVALID_SESSION_TOKEN","User","logOut","postLooks","name","products","patchLooks","destroyLooks","delete","INITIAL_SCRIPTS_STATE","useScriptsStore","scripts","getScripts","postScripts","destroyScripts","ShopContext","createContext","renderLookPoints","look","columns","IoEye","IoHandLeftSharp","IoCartSharp","IoLogoUsd","renderCarousel","orangeColorMode","marginRight","bgGradient","LooksCreatedDate","date","toLocaleString","DateTime","DATETIME_MED","renderLooks","flexDirection","marginLeft","sm","marginBottom","isLoaded","objectId","createdAt","colorScheme","isFullWidth","leftIcon","Looks","useContext","toast","useToast","onOpen","onClose","useEffect","enableWidget","title","status","disableWidget","isLoading","isDisabled","target","renderWidgetStatusAlert","maxW","isCentered","textAlign","frameborder","allow","allowfullscreen","defaultProps","Authorize","storeDomain","setStoreDomain","isShopifySiteURLInvalid","setIsShopifySiteURLInvalid","isRequired","isInvalid","onChange","e","value","type","placeholder","App","shopifySessionAvailable","setShopifySessionAvailable","shopifyHmacAvailable","setShopifyHmacAvailable","shopifyCodeAvailable","setShopifyCodeAvailable","shopifyHostAvailable","setShopifyHostAvailable","isEmbed","setIsEmbed","session","hmac","embed","host","userToken","replace","document","getBase64","file","reader","FileReader","readAsDataURL","Promise","reslove","reject","onload","result","onerror","INITIAL_FILES_STATE","useFilesStore","files","getFiles","headers","Authorization","localStorage","getItem","accept","postFiles","uploads","all","upload","base64s","base64","parseFile","File","_source","_data","_ApplicationId","applicationId","_ClientVersion","_ContentType","_JavaScriptKey","javaScriptKey","fileData","metadata","tags","savedFiles","destroyFiles","Upload","on","setUploads","onDrop","useCallback","acceptedUploads","Object","assign","preview","URL","createObjectURL","useDropzone","maxFiles","multiple","getRootProps","getInputProps","isDragActive","forEach","revokeObjectURL","saveUploads","dropText","activeBg","closeOnOverlayClick","onEsc","borderRadius","objectFit","mr","loadingText","CreateLooks","isResourcePickerOpen","onResourcePickerOpen","onResourcePickerClose","useParams","useNavigate","looksName","setLooksName","setProducts","onUploadWidgetClose","onResourcePickerDone","filter","Boolean","selection","d","image","images","originalSrc","getLooskById","log","admin_graphql_api_id","onDestroyLook","lookId","renderProducts","product","IoClose","splice","removeProduct","SimpleGrid","lg","noOfLines","lineHeight","form","onSubmit","preventDefault","scriptsOnStore","required","_name","_url","_before","content","removeUpload","IoCloseCircleOutline","fontFamily","onSelection","onCancel","selectMultiple","showVariants","resourceType","open","initialSelectionIds","disabled","Blur","viewBox","fill","xmlns","cx","cy","r","SettingsRoute","mx","letterSpacing","INITIAL_PRODUCTS_STATE","useProductsStore","getProducts","ids","pop","ProductsModal","productIds","scrollBehavior","blockScrollOnMount","preserveScrollBarGap","lockFocusAcrossFrames","minChildWidth","pos","_after","pt","textTransform","variants","handle","rightIcon","EmbedRoute","bgColor","setProductIds","isModalvis","setIsModalvis","currentLookId","setCurrentLookId","onModalClose","onLooksClick","AppRoutes","path","element","initialize","serverURL","ReactDOM","render","StrictMode","config","apiKey","forceRedirect","Provider","getElementById"],"mappings":"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","file":"static/js/main.46d41bb8.chunk.js","sourcesContent":["export const parseQuery = (queryString = window.location.search) => {\n\tvar query = {};\n\tvar pairs = (queryString[0] === '?' ? queryString.substr(1) : queryString).split('&');\n\tfor (var i = 0; i < pairs.length; i++) {\n\t\t\tvar pair = pairs[i].split('=');\n\t\t\tquery[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1] || '');\n\t}\n\treturn query;\n}","import {\n    Box,\n    Flex,\n    Text,\n    IconButton,\n    Button,\n    Stack,\n    Collapse,\n    Icon,\n    Popover,\n    PopoverTrigger,\n    PopoverContent,\n    useColorModeValue,\n    useBreakpointValue,\n    useDisclosure,\n  } from '@chakra-ui/react';\n  import {\n    HamburgerIcon,\n    CloseIcon,\n    ChevronDownIcon,\n    ChevronRightIcon,\n    ArrowBackIcon\n  } from '@chakra-ui/icons';\n  import { Link } from \"react-router-dom\"\n  \n  export default function WithSubnavigation() {\n    const { isOpen, onToggle } = useDisclosure();\n  \n    return (\n      <Box>\n        <Flex\n          bg={useColorModeValue('white', 'gray.800')}\n          color={useColorModeValue('gray.600', 'white')}\n          minH={'60px'}\n          py={{ base: 2 }}\n          px={{ base: 4 }}\n          borderBottom={1}\n          borderStyle={'solid'}\n          borderColor={useColorModeValue('gray.200', 'gray.900')}\n          align={'center'}>\n          <Flex\n            flex={{ base: 1, md: 'auto' }}\n            alignItems=\"center\"\n            ml={{ base: -2 }}\n            display={{ base: 'flex', md: 'none' }}>\n            <ArrowBackIcon onClick={() => window.history.back()} justifyContent=\"center\" alignItems=\"center\" boxSize={6} />\n            <IconButton\n              onClick={onToggle}\n              icon={\n                isOpen ? <CloseIcon w={3} h={3} /> : <HamburgerIcon w={5} h={5} />\n              }\n              variant={'ghost'}\n              aria-label={'Toggle Navigation'}\n            />\n          </Flex>\n          <Flex flex={{ base: 1 }} justify={{ base: 'center', md: 'start' }}>  \n          <ArrowBackIcon cursor=\"pointer\" onClick={() => window.history.back()} display={{ base: 'none', md: 'flex' }}  justifyContent=\"center\" alignItems=\"center\" boxSize={6} />\n            <Flex display={{ base: 'none', md: 'flex' }} ml={10} alignItems=\"center\">\n              <DesktopNav />\n            </Flex>\n          </Flex>\n            {/* <Link to=\"/looks/create\">\n            <Stack\n              flex={{ base: 1, md: 0 }}\n              justify={'flex-end'}\n              direction={'row'}\n              spacing={6}>\n              <Button\n                display={{ base: 'none', md: 'inline-flex' }}\n                fontSize={'sm'}\n                fontWeight={600}\n                color={'white'}\n                bg={'pink.400'}\n                href={'#'}\n                _hover={{\n                  bg: 'pink.300',\n                }}>\n                Create Look\n              </Button>\n            </Stack>\n          </Link> */}\n        </Flex>\n  \n        <Collapse in={isOpen} animateOpacity>\n          <MobileNav />\n        </Collapse>\n      </Box>\n    );\n  }\n  \n  const DesktopNav = () => {\n    const linkColor = useColorModeValue('gray.600', 'gray.200');\n    const linkHoverColor = useColorModeValue('gray.800', 'white');\n    const popoverContentBgColor = useColorModeValue('white', 'gray.800');\n  \n    return (\n      <Stack direction={'row'} spacing={4}>\n        {NAV_ITEMS.map((navItem) => (\n          <Box key={navItem.label}>\n            <Popover trigger={'hover'} placement={'bottom-start'}>\n              <PopoverTrigger>\n                <Link\n                  p={2}\n                  to={navItem.href ?? '#'}\n                  fontSize={'sm'}\n                  fontWeight={500}\n                  color={linkColor}\n                  _hover={{\n                    textDecoration: 'none',\n                    color: linkHoverColor,\n                  }}>\n                  {navItem.label}\n                </Link>\n              </PopoverTrigger>\n  \n              {navItem.children && (\n                <PopoverContent\n                  border={0}\n                  boxShadow={'xl'}\n                  bg={popoverContentBgColor}\n                  p={4}\n                  rounded={'xl'}\n                  minW={'sm'}>\n                  <Stack>\n                    {navItem.children.map((child) => (\n                      <DesktopSubNav key={child.label} {...child} />\n                    ))}\n                  </Stack>\n                </PopoverContent>\n              )}\n            </Popover>\n          </Box>\n        ))}\n      </Stack>\n    );\n  };\n  \n  const DesktopSubNav = ({ label, href, subLabel }) => {\n    return (\n      <Link\n        to={href}\n        role={'group'}\n        display={'block'}\n        p={2}\n        rounded={'md'}\n        _hover={{ bg: useColorModeValue('pink.50', 'gray.900') }}>\n        <Stack direction={'row'} align={'center'}>\n          <Box>\n            <Text\n              transition={'all .3s ease'}\n              _groupHover={{ color: 'pink.400' }}\n              fontWeight={500}>\n              {label}\n            </Text>\n            <Text fontSize={'sm'}>{subLabel}</Text>\n          </Box>\n          <Flex\n            transition={'all .3s ease'}\n            transform={'translateX(-10px)'}\n            opacity={0}\n            _groupHover={{ opacity: '100%', transform: 'translateX(0)' }}\n            justify={'flex-end'}\n            align={'center'}\n            flex={1}>\n            <Icon color={'pink.400'} w={5} h={5} as={ChevronRightIcon} />\n          </Flex>\n        </Stack>\n      </Link>\n    );\n  };\n  \n  const MobileNav = () => {\n    return (\n      <Stack\n        bg={useColorModeValue('white', 'gray.800')}\n        p={4}\n        display={{ md: 'none' }}>\n        {NAV_ITEMS.map((navItem) => (\n          <MobileNavItem key={navItem.label} {...navItem} />\n        ))}\n      </Stack>\n    );\n  };\n  \n  const MobileNavItem = ({ label, children, href }) => {\n    const { isOpen, onToggle } = useDisclosure();\n  \n    return (\n      <Stack spacing={4} onClick={children && onToggle}>\n        <Flex\n          py={2}\n          as={Link}\n          to={href ?? '#'}\n          justify={'space-between'}\n          align={'center'}\n          _hover={{\n            textDecoration: 'none',\n          }}>\n          <Text\n            fontWeight={600}\n            color={useColorModeValue('gray.600', 'gray.200')}>\n            {label}\n          </Text>\n          {children && (\n            <Icon\n              as={ChevronDownIcon}\n              transition={'all .25s ease-in-out'}\n              transform={isOpen ? 'rotate(180deg)' : ''}\n              w={6}\n              h={6}\n            />\n          )}\n        </Flex>\n  \n        <Collapse in={isOpen} animateOpacity style={{ marginTop: '0!important' }}>\n          <Stack\n            mt={2}\n            pl={4}\n            borderLeft={1}\n            borderStyle={'solid'}\n            borderColor={useColorModeValue('gray.200', 'gray.700')}\n            align={'start'}>\n            {children &&\n              children.map((child) => (\n                <Link key={child.label} py={2} to={child.href}>\n                  {child.label}\n                </Link>\n              ))}\n          </Stack>\n        </Collapse>\n      </Stack>\n    );\n  };\n\n  const NAV_ITEMS = [\n    // {\n    //   label: 'Home',\n    //   children: [\n    //     {\n    //       label: 'Explore Design Work',\n    //       subLabel: 'Trending Design to inspire you',\n    //       href: '#',\n    //     },\n    //     {\n    //       label: 'New & Noteworthy',\n    //       subLabel: 'Up-and-coming Designers',\n    //       href: '#',\n    //     },\n    //   ],\n    // },\n    // {\n    //   label: 'Find Work',\n    //   children: [\n    //     {\n    //       label: 'Job Board',\n    //       subLabel: 'Find your dream design job',\n    //       href: '#',\n    //     },\n    //     {\n    //       label: 'Freelance Projects',\n    //       subLabel: 'An exclusive list for contract work',\n    //       href: '#',\n    //     },\n    //   ],\n    // },\n    // {\n    //   label: 'Looks',\n    //   href: '/looks',\n    // },\n    {\n      label: 'Add New Look',\n      href: '/looks/create',\n    },\n  ];","import React from 'react';\nimport {\n  Box,\n  IconButton,\n  useBreakpointValue,\n  Stack,\n  Heading,\n  Text,\n  Container,\n} from '@chakra-ui/react';\n// Here we have used react-icons package for the icons\nimport { BiLeftArrowAlt, BiRightArrowAlt } from 'react-icons/bi';\n// And react-slick as our Carousel Lib\nimport Slider from 'react-slick';\n\n// Settings for the slider\nconst settings = {\n  dots: true,\n  arrows: false,\n  fade: true,\n  infinite: true,\n  autoplay: true,\n  speed: 500,\n  autoplaySpeed: 5000,\n  slidesToShow: 1,\n  slidesToScroll: 1,\n};\n\nexport default function CaptionCarousel(props) {\n  // As we have used custom buttons, we need a reference variable to\n  // change the state\n  const [slider, setSlider] = React.useState(null);\n\n  // These are the breakpoints which changes the position of the\n  // buttons as the screen size changes\n  const top = useBreakpointValue({ base: '90%', md: '50%' });\n  const side = useBreakpointValue({ base: '30%', md: '40px' });\n  \n  const { medias = [] } = props;\n  // This list contains all the data for carousels\n  // This can be static or loaded from a server\n  return (\n    <Box\n      position={'relative'}\n      height={props.height || '400px'}\n      width={props.width || '400px'}\n      overflow={'hidden'}\n      borderWidth=\"1px\"\n\t\t\trounded=\"lg\"\n\t\t\tshadow=\"lg\"\n      margin=\"0 auto\"\n    > \n      {/* Left Icon */}\n      <IconButton\n        aria-label=\"left-arrow\"\n        variant=\"ghost\"\n        position=\"absolute\"\n        left={side}\n        top={top}\n        transform={'translate(-50%, -50%)'}\n        zIndex={2}\n        onClick={() => slider?.slickPrev()}>\n        <BiLeftArrowAlt size=\"40px\" />\n      </IconButton>\n      {/* Right Icon */}\n      <IconButton\n        aria-label=\"right-arrow\"\n        variant=\"ghost\"\n        position=\"absolute\"\n        right={side}\n        top={top}\n        transform={'translate(50%, -50%)'}\n        zIndex={2}\n        onClick={() => slider?.slickNext()}>\n        <BiRightArrowAlt size=\"40px\" />\n      </IconButton>\n      {/* Slider */}\n      <Slider autoplay={false} {...settings} ref={(slider) => setSlider(slider)}>\n        {medias.map((media, index) => (\n          <Box\n            key={index}\n            // height={'6xl'}\n            position=\"relative\"\n            backgroundPosition=\"center\"\n            backgroundRepeat=\"no-repeat\"\n            backgroundSize=\"cover\"\n            backgroundImage={`url(${media.url ? media.url : media.src})`}>\n            {/* This is the block you need to change, to customize the caption */}\n            <Container padding=\"0\" size=\"container.lg\" height={props.height || '400px'} position=\"relative\">\n              <Stack\n                padding=\"0\"\n                w={'full'}\n                position=\"absolute\"\n                bottom=\"0\"\n                background=\"#00000094\"\n            >\n                {/* <Heading padding=\"1\" textAlign=\"center\" color=\"white\" fontSize={{ base: 'md', md: 'xl', lg: '2xl' }}>\n                  {card.title}\n                </Heading>\n                <Text margin=\"0\" padding=\"0\" fontSize={{ base: 'md', lg: 'lg' }} color=\"GrayText\">\n                  {card.text}\n                </Text> */}\n              </Stack>\n            </Container>\n          </Box>\n        ))}\n      </Slider>\n    </Box>\n  );\n}","export const INTERNAL_SERVER_ERROR = \"Something went wrong. Try again\"","import create from \"zustand\";\nimport axios from \"axios\";\nimport produce from \"immer\";\nimport Parse from \"parse\";\nimport { INTERNAL_SERVER_ERROR } from \"../../constants/strings\";\n\nconst INITIAL_LOOKS_STATE = {\n\tget: {\n\t\tloading: false,\n\t\tsuccess: {\n\t\t\tok: false,\n\t\t\tdata: [],\n\t\t},\n\t\tfailure: {\n\t\t\terror: false,\n\t\t\tmessage: \"\",\n\t\t}\n\t},\n\tpost: {\n\t\tloading: false,\n\t\tsuccess: {\n\t\t\tok: false,\n\t\t\tdata: null,\n\t\t},\n\t\tfailure: {\n\t\t\terror: false,\n\t\t\tmessage: \"\",\n\t\t}\n\t},\n\tpatch: {\n\t\tloading: false,\n\t\tsuccess: {\n\t\t\tok: false,\n\t\t\tdata: null,\n\t\t},\n\t\tfailure: {\n\t\t\terror: false,\n\t\t\tmessage: \"\",\n\t\t}\n\t},\n\tdestroy: {\n\t\tloading: false,\n\t\tsuccess: {\n\t\t\tok: false,\n\t\t\tdata: null,\n\t\t},\n\t\tfailure: {\n\t\t\terror: false,\n\t\t\tmessage: \"\",\n\t\t}\n\t}\n};\n\nconst useLooksStore = create((set, get) => ({\n\tlooks: INITIAL_LOOKS_STATE,\n\tgetLooks: async({ id = '', shop = window.lookbook.shop } = {}) => {\n\t\tset(produce(state => ({\n\t\t\t...state,\n\t\t\tlooks: {\n\t\t\t\t...state.looks,\n\t\t\t\tget: {\n\t\t\t\t\t...INITIAL_LOOKS_STATE.get,\n\t\t\t\t\tloading: true,\n\t\t\t\t}\n\t\t\t}\n\t\t})))\n\n\t\ttry {\n\n\t\t\t// Parse.Cloud.run('get_looks', {\n\t\t\t// \tshop, id\n\t\t\t// })\n\t\t\n\t\t\tconst { data } = await axios.get(`${process.env.REACT_APP_API_SHOPLOOKS_SERVER_URL}/api/get_looks?shop=${shop}&id=${id}`);\n\t\t\tset(produce(state => ({\n\t\t\t\t...state,\n\t\t\t\tlooks: {\n\t\t\t\t\t...state.looks,\n\t\t\t\t\tget: {\n\t\t\t\t\t\t...INITIAL_LOOKS_STATE.get,\n\t\t\t\t\t\tsuccess: {\n\t\t\t\t\t\t\tok: true,\n\t\t\t\t\t\t\tdata: data,\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})));\n\n\t\t\treturn data;\n\n\t\t} catch (e) {\n\t\t\tconsole.error(e)\n\t\t\tif (e.code ===  Parse.Error.INVALID_SESSION_TOKEN) {\n\t\t\t\tParse.User.logOut();\n\t\t\t}\n\t\t\tset(produce(state => ({\n\t\t\t\t...state,\n\t\t\t\tlooks: {\n\t\t\t\t\t...state.looks,\n\t\t\t\t\tget: {\n\t\t\t\t\t\t...INITIAL_LOOKS_STATE.get,\n\t\t\t\t\t\tfailure: {\n\t\t\t\t\t\t\terror: true,\n\t\t\t\t\t\t\tmessage: e.message || INTERNAL_SERVER_ERROR,\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})))\n\t\t}\n\t},\n\tpostLooks: async ({ id, shop = window.lookbook.shop, name, medias, products = [] }) => {\n\t\tset(produce(state => ({\n\t\t\t...state,\n\t\t\tlooks: {\n\t\t\t\t...state.looks,\n\t\t\t\tpost: {\n\t\t\t\t\t...INITIAL_LOOKS_STATE.post,\n\t\t\t\t\tloading: true,\n\t\t\t\t}\n\t\t\t}\n\t\t})))\n\n\t\ttry {\n\t\t\t\n\t\t\tconst { data } = await axios.post(`${process.env.REACT_APP_API_SHOPLOOKS_SERVER_URL}/api/post_looks`, {\n\t\t\t\tshop,\n\t\t\t\tname,\n\t\t\t\tmedias,\n\t\t\t\tproducts\n\t\t\t});\n\t\t\tset(produce(state => ({\n\t\t\t\t...state,\n\t\t\t\tlooks: {\n\t\t\t\t\t...state.looks,\n\t\t\t\t\tpost: {\n\t\t\t\t\t\t...INITIAL_LOOKS_STATE.post,\n\t\t\t\t\t\tsuccess: {\n\t\t\t\t\t\t\tok: true,\n\t\t\t\t\t\t\tdata\n\t\t\t\t\t\t},\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})))\n\t\t\treturn data;\n\n\t\t} catch (e) {\n\t\t\tconsole.error(e)\n\t\t\tset(produce(state => ({\n\t\t\t\t...state,\n\t\t\t\tlooks: {\n\t\t\t\t\t...state.looks,\n\t\t\t\t\tpost: {\n\t\t\t\t\t\t...INITIAL_LOOKS_STATE.post,\n\t\t\t\t\t\tfailure: {\n\t\t\t\t\t\t\terror: true,\n\t\t\t\t\t\t\tmessage: e.message || INTERNAL_SERVER_ERROR\n\t\t\t\t\t\t},\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})))\n\t\t\tthrow e;\n\t\t}\n\t},\n\tpatchLooks: async ({ id, shop = window.lookbook.shop, name, medias, products = [] }) => {\n\t\tset(produce(state => ({\n\t\t\t...state,\n\t\t\tlooks: {\n\t\t\t\t...state.looks,\n\t\t\t\tpatch: {\n\t\t\t\t\t...INITIAL_LOOKS_STATE.patch,\n\t\t\t\t\tloading: true,\n\t\t\t\t}\n\t\t\t}\n\t\t})))\n\t\ttry {\n\t\t\tconst { data } = await axios.post(`${process.env.REACT_APP_API_SHOPLOOKS_SERVER_URL}/api/post_looks`, {\n\t\t\t\tid,\n\t\t\t\tshop,\n\t\t\t\tname,\n\t\t\t\tmedias,\n\t\t\t\tproducts\n\t\t\t});\n\n\t\t\tset(produce(state => ({\n\t\t\t\t...state,\n\t\t\t\tlooks: {\n\t\t\t\t\t...state.looks,\n\t\t\t\t\tpatch: {\n\t\t\t\t\t\t...INITIAL_LOOKS_STATE.patch,\n\t\t\t\t\t\tsuccess: {\n\t\t\t\t\t\t\tok: true,\n\t\t\t\t\t\t\tdata\n\t\t\t\t\t\t},\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})))\n\t\t\treturn data;\n\n\t\t} catch (e) {\n\t\t\tset(produce(state => ({\n\t\t\t\t...state,\n\t\t\t\tlooks: {\n\t\t\t\t\t...state.looks,\n\t\t\t\t\tpatch: {\n\t\t\t\t\t\t...INITIAL_LOOKS_STATE.patch,\n\t\t\t\t\t\tfailure: {\n\t\t\t\t\t\t\terror: true,\n\t\t\t\t\t\t\tmessage: e.message || INTERNAL_SERVER_ERROR\n\t\t\t\t\t\t},\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})))\n\t\t\tthrow e;\n\t\t}\n\t},\n\tdestroyLooks: async (id) => {\n\t\tset(produce(state => ({\n\t\t\t...state,\n\t\t\tlooks: {\n\t\t\t\t...state.looks,\n\t\t\t\tdestroy: {\n\t\t\t\t\t...INITIAL_LOOKS_STATE.destroy,\n\t\t\t\t\tloading: true,\n\t\t\t\t}\n\t\t\t}\n\t\t})))\n\n\t\ttry {\n\t\t\tconst { data } = await axios.delete(`${process.env.REACT_APP_API_SHOPLOOKS_SERVER_URL}/api/destroy_looks?id=${id}`);\n\n\n\t\t\tset(produce(state => ({\n\t\t\t\t...state,\n\t\t\t\tlooks: {\n\t\t\t\t\t...state.looks,\n\t\t\t\t\tdestroy: {\n\t\t\t\t\t\t...INITIAL_LOOKS_STATE.destroy,\n\t\t\t\t\t\tsuccess: {\n\t\t\t\t\t\t\tok: true,\n\t\t\t\t\t\t\tdata,\n\t\t\t\t\t\t},\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})))\n\t\t\treturn data;\n\n\t\t} catch (e) {\n\t\t\tset(produce(state => ({\n\t\t\t\t...state,\n\t\t\t\tlooks: {\n\t\t\t\t\t...state.looks,\n\t\t\t\t\tdestroy: {\n\t\t\t\t\t\t...INITIAL_LOOKS_STATE.destroy,\n\t\t\t\t\t\tfailure: {\n\t\t\t\t\t\t\terror: true,\n\t\t\t\t\t\t\tmessage: e.message || INTERNAL_SERVER_ERROR\n\t\t\t\t\t\t},\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})))\n\t\t\tthrow e;\n\t\t}\n\t}\n}));\n\nexport default useLooksStore;\n\t\n","import create from \"zustand\";\nimport axios from \"axios\";\nimport produce from \"immer\";\nimport Parse from \"parse\";\nimport { INTERNAL_SERVER_ERROR } from \"../../constants/strings\";\n\nconst INITIAL_SCRIPTS_STATE = {\n\tget: {\n\t\tloading: false,\n\t\tsuccess: {\n\t\t\tok: false,\n\t\t\tdata: [],\n\t\t},\n\t\tfailure: {\n\t\t\terror: false,\n\t\t\tmessage: \"\",\n\t\t}\n\t},\n\tpost: {\n\t\tloading: false,\n\t\tsuccess: {\n\t\t\tok: false,\n\t\t\tdata: null,\n\t\t},\n\t\tfailure: {\n\t\t\terror: false,\n\t\t\tmessage: \"\",\n\t\t}\n\t},\n\tpatch: {\n\t\tloading: false,\n\t\tsuccess: {\n\t\t\tok: false,\n\t\t\tdata: null,\n\t\t},\n\t\tfailure: {\n\t\t\terror: false,\n\t\t\tmessage: \"\",\n\t\t}\n\t},\n\tdestroy: {\n\t\tloading: false,\n\t\tsuccess: {\n\t\t\tok: false,\n\t\t\tdata: null,\n\t\t},\n\t\tfailure: {\n\t\t\terror: false,\n\t\t\tmessage: \"\",\n\t\t}\n\t}\n};\n\nconst useScriptsStore = create((set, get) => ({\n\tscripts: INITIAL_SCRIPTS_STATE,\n\tgetScripts: async (shop = window.lookbook.shop) => {\n\t\tset(produce(state => ({\n\t\t\t...state,\n\t\t\tscripts: {\n\t\t\t\t...state.scripts,\n\t\t\t\tget: {\n\t\t\t\t\t...INITIAL_SCRIPTS_STATE.get,\n\t\t\t\t\tloading: true,\n\t\t\t\t}\n\t\t\t}\n\t\t})))\n\t\n\t\ttry {\n\t\t\tconst { data } = await axios.get(`${process.env.REACT_APP_API_SHOPLOOKS_SERVER_URL}/api/get_scripts?shop=${shop}`);\n\t\t\tset(produce(state => ({\n\t\t\t\t...state,\n\t\t\t\tscripts: {\n\t\t\t\t\t...state.scripts,\n\t\t\t\t\tget: {\n\t\t\t\t\t\t...INITIAL_SCRIPTS_STATE.get,\n\t\t\t\t\t\tsuccess: {\n\t\t\t\t\t\t\tok: true,\n\t\t\t\t\t\t\tdata\n\t\t\t\t\t\t},\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})))\n\t\t\treturn data;\n\t\n\t\t} catch (e) {\n\t\t\tset(produce(state => ({\n\t\t\t\t...state,\n\t\t\t\tscripts: {\n\t\t\t\t\t...state.scripts,\n\t\t\t\t\tget: {\n\t\t\t\t\t\t...INITIAL_SCRIPTS_STATE.get,\n\t\t\t\t\t\tfailure: {\n\t\t\t\t\t\t\terror: true,\n\t\t\t\t\t\t\tmessage: e.message || INTERNAL_SERVER_ERROR\n\t\t\t\t\t\t},\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})))\n\t\t\tthrow e;\n\t\t}\n\t},\n\tpostScripts: async (shop = window.lookbook.shop) => {\n\t\tset(produce(state => ({\n\t\t\t...state,\n\t\t\tscripts: {\n\t\t\t\t...state.scripts,\n\t\t\t\tpost: {\n\t\t\t\t\t...INITIAL_SCRIPTS_STATE.post,\n\t\t\t\t\tloading: true,\n\t\t\t\t}\n\t\t\t}\n\t\t})))\n\n\t\ttry {\n\t\t\tconst { data } = await axios.post(`${process.env.REACT_APP_API_SHOPLOOKS_SERVER_URL}/api/post_scripts`, { shop });\n\n\t\t\tset(produce(state => ({\n\t\t\t\t...state,\n\t\t\t\tscripts: {\n\t\t\t\t\t...state.scripts,\n\t\t\t\t\tpost: {\n\t\t\t\t\t\t...INITIAL_SCRIPTS_STATE.post,\n\t\t\t\t\t\tsuccess: {\n\t\t\t\t\t\t\tok: true,\n\t\t\t\t\t\t\tdata\n\t\t\t\t\t\t},\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})))\n\t\t\treturn data;\n\n\t\t} catch (e) {\n\t\t\tset(produce(state => ({\n\t\t\t\t...state,\n\t\t\t\tscripts: {\n\t\t\t\t\t...state.scripts,\n\t\t\t\t\tpost: {\n\t\t\t\t\t\t...INITIAL_SCRIPTS_STATE.post,\n\t\t\t\t\t\tfailure: {\n\t\t\t\t\t\t\terror: true,\n\t\t\t\t\t\t\tmessage: e.message || INTERNAL_SERVER_ERROR\n\t\t\t\t\t\t},\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})))\n\t\t\tthrow e;\n\t\t}\n\t},\n\tdestroyScripts: async (shop = window.lookbook.shop) => {\n\t\tset(produce(state => ({\n\t\t\t...state,\n\t\t\tscripts: {\n\t\t\t\t...state.scripts,\n\t\t\t\tdestroy: {\n\t\t\t\t\t...INITIAL_SCRIPTS_STATE.destroy,\n\t\t\t\t\tloading: true,\n\t\t\t\t}\n\t\t\t}\n\t\t})))\n\n\t\ttry {\n\t\t\tconst { data } = await axios.delete(`${process.env.REACT_APP_API_SHOPLOOKS_SERVER_URL}/api/destroy_scripts?shop=${shop}`);\n\n\t\t\tset(produce(state => ({\n\t\t\t\t...state,\n\t\t\t\tscripts: {\n\t\t\t\t\t...state.scripts,\n\t\t\t\t\tdestroy: {\n\t\t\t\t\t\t...INITIAL_SCRIPTS_STATE.destroy,\n\t\t\t\t\t\tsuccess: {\n\t\t\t\t\t\t\tok: true,\n\t\t\t\t\t\t\tdata,\n\t\t\t\t\t\t},\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})))\n\t\t\treturn data;\n\n\t\t} catch (e) {\n\t\t\tset(produce(state => ({\n\t\t\t\t...state,\n\t\t\t\tscripts: {\n\t\t\t\t\t...state.scripts,\n\t\t\t\t\tdestroy: {\n\t\t\t\t\t\t...INITIAL_SCRIPTS_STATE.destroy,\n\t\t\t\t\t\tfailure: {\n\t\t\t\t\t\t\terror: true,\n\t\t\t\t\t\t\tmessage: e.message || INTERNAL_SERVER_ERROR\n\t\t\t\t\t\t},\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})))\n\t\t\tthrow e;\n\t\t}\n\t}\n}));\n\nexport default useScriptsStore;\n\t\n","import React from \"react\";\nexport const ShopContext = React.createContext();\n","import { useEffect, useContext } from \"react\";\nimport {\n\tBox,\n  Heading,\n  Icon,\n  Text,\n  Divider,\n  HStack,\n  Flex,\n  SimpleGrid,\n  Stack,\n  Button,\n  useColorModeValue,\n  Container,\n  VStack,\n\tuseToast,\n\tSkeleton,\n\tAlert,\n\tCode,\n\tButtonGroup,\n\tuseDisclosure,\n\tLink as ChakraLink,\n\tAlertDialog,\n\tAlertDialogOverlay,\n\tAlertDialogContent,\n\tAlertDialogBody,\n\tAlertDialogHeader,\n\tAlertDialogCloseButton,\n\tAlertDialogFooter\n} from '@chakra-ui/react';\nimport { DateTime } from \"luxon\";\nimport Carousel from \"../../components/carousel\";\nimport {\n\tIoCaretForwardOutline,\n\tIoHandLeftSharp,\n\tIoEye,\n\tIoCartSharp,\n\tIoLogoUsd\n} from 'react-icons/io5';\nimport { Link } from \"react-router-dom\"\nimport useLooksStore from \"../../store/looks\"\nimport useScriptsStore from \"../../store/scripts\";\nimport { ShopContext } from \"../../context\";\nimport { INTERNAL_SERVER_ERROR } from \"../../constants/strings\";\nimport { LinkIcon } from \"@chakra-ui/icons\";\n\n\nconst renderSkeleton = (looks) => {\n\treturn (\n\t\t<Flex alignItems=\"flex-start\" flexDirection=\"row\">\n\t\t\t<Skeleton> \n\t\t\t\t<Carousel medias={[]} />\n\t\t\t</Skeleton>\n\t\t\t<Flex direction=\"column\" width=\"90%\" marginLeft=\"5\">\n\t\t\t<Skeleton width=\"100%\" height=\"40px\"> \n\t\t\t</Skeleton>\n\t\t\t<br />\n\t\t\t<Skeleton width=\"100%\" height=\"20px\"> \n\t\t\t</Skeleton>\n\t\t\t<br />\n\t\t\t<Skeleton width=\"100%\" height=\"20px\"> \n\t\t\t</Skeleton>\n\t\t\t<br />\n\t\t\t<Skeleton width=\"100%\" height=\"20px\"> \n\t\t\t</Skeleton>\n\t\t\t</Flex>\n\t\t</Flex>\t\n\t)\n}\n\nconst renderLookPoints = ({ look }) => {\n\treturn (\n\t\t<SimpleGrid columns={2} spacing={5} marginTop=\"5\">\n\t\t\t<HStack align={'top'}>\n\t\t\t\t<Box color={'green.400'} px={2}>\n\t\t\t\t\t<Icon as={IoEye} />\n\t\t\t\t</Box>\n\t\t\t\t<VStack align={'start'}>\n\t\t\t\t\t<Text fontWeight={600}>Views</Text>\n\t\t\t\t\t<Text color={'gray.600'} marginTop=\"0\" style={{ marginTop: 0 }}>Total views</Text>\n\t\t\t\t</VStack>\n\t\t\t</HStack>\n\t\t\t<HStack align={'top'}>\n\t\t\t\t<Box color={'green.400'} px={2}>\n\t\t\t\t\t<Icon as={IoHandLeftSharp} />\n\t\t\t\t</Box>\n\t\t\t\t<VStack align={'start'}>\n\t\t\t\t\t<Text fontWeight={600}>Clicks</Text>\n\t\t\t\t\t<Text color={'gray.600'} marginTop=\"0\" style={{ marginTop: 0 }}>Total clicks</Text>\n\t\t\t\t</VStack>\n\t\t\t</HStack>\n\t\t\t<HStack align={'top'}>\n\t\t\t\t<Box color={'green.400'} px={2}>\n\t\t\t\t\t<Icon as={IoCartSharp} />\n\t\t\t\t</Box>\n\t\t\t\t<VStack align={'start'}>\n\t\t\t\t\t<Text fontWeight={600}>Add to cart</Text>\n\t\t\t\t\t<Text color={'gray.600'} marginTop=\"0\" style={{ marginTop: 0 }}>Cart revenue</Text>\n\t\t\t\t</VStack>\n\t\t\t</HStack>\n\t\t\t<HStack align={'top'}>\n\t\t\t\t<Box color={'green.400'} px={2}>\n\t\t\t\t\t<Icon as={IoLogoUsd} />\n\t\t\t\t</Box>\n\t\t\t\t<VStack align={'start'}>\n\t\t\t\t\t<Text fontWeight={600}>Conversion</Text>\n\t\t\t\t\t<Text color={'gray.600'} marginTop=\"0\" style={{ marginTop: 0 }}>Total revenue</Text>\n\t\t\t\t</VStack>\n\t\t\t</HStack>\n\t</SimpleGrid>\n\t)\n}\n\nconst renderCarousel = ({ orangeColorMode, look }) => {\n\treturn (\n\t\t<Box\n\t\t\tdisplay=\"flex\"\n\t\t\tflex=\"1\"\n\t\t\tmarginRight=\"3\"\n\t\t\tposition=\"relative\"\n\t\t\talignItems=\"center\">\n\t\t\t<Box\n\t\t\t\twidth={{ base: '100%' }}\n\t\t\t\tzIndex=\"2\"\n\t\t\t>\n\t\t\t\t<Carousel medias={look.medias} />\n\t\t\t</Box>\n\t\t\t<Box zIndex=\"1\" width=\"100%\" position=\"absolute\" height=\"100%\">\n\t\t\t\t<Box\n\t\t\t\t\tbgGradient={orangeColorMode}\n\t\t\t\t\tbackgroundSize=\"20px 20px\"\n\t\t\t\t\topacity=\"0.4\"\n\t\t\t\t\theight=\"100%\"\n\t\t\t\t/>\n\t\t\t</Box>\n\t\t</Box>\n\n\t)\n}\n\nexport const LooksCreatedDate = (props) => {\n  return (\n    <HStack display=\"flex\" alignItems=\"center\">\n      <Text fontWeight=\"light\" fontSize=\"sm\">Created at:</Text>\n      <Text fontSize=\"sm\">{props.date.toLocaleString(DateTime.DATETIME_MED)}</Text>\n    </HStack>\n  );\n};\n\nexport const renderLooks = ({ looks, orangeColorMode, getLooks }) => {\n\tif (looks.get.loading) {\n\t\treturn renderSkeleton(looks);\n\t} else if (looks.get.failure.error) {\n\t\treturn (\n\t\t\t<Box>\n\t\t\t\t<Flex direction=\"column\" align=\"center\">\n\t\t\t\t\t<VStack spacing=\"3\">\n\t\t\t\t\t\t<Heading as=\"h1\" size=\"md\">{looks.get.failure.message}</Heading>\n\t\t\t\t\t</VStack>\n\t\t\t\t\t<br />\n\t\t\t\t\t<Divider />\n\t\t\t\t\t<br />\n\t\t\t\t\t<VStack spacing=\"3\">\n\t\t\t\t\t\t<Button onClick={() => getLooks()}>Try Again</Button>\t\n\t\t\t\t\t</VStack>\n\t\t\t\t</Flex>\n\t\t\t</Box>\n\t\t);\n\t} else if (looks.get.success.data.length) {\n\t\treturn looks.get.success.data.map(look => (\n\t\t\t<Box key={look.objectId}>\n\t\t\t\t<Box\n\t\t\t\t\tmarginTop={{ base: '1', sm: '5' }}\n\t\t\t\t\tmarginBottom={{ base: '1', sm: '5' }}\n\t\t\t\t\tdisplay=\"flex\"\n\t\t\t\t\tflexDirection={{ base: 'column', sm: 'row' }}\n\t\t\t\t\tjustifyContent=\"space-between\"\n\t\t\t\t\tkey={look.objectId}\n\t\t\t\t>\n\t\t\t\t\t{renderCarousel({ orangeColorMode, look })}\n\t\t\t\t\t<Box\n\t\t\t\t\t\tdisplay=\"flex\"\n\t\t\t\t\t\tflex=\"1\"\n\t\t\t\t\t\tflexDirection=\"column\"\n\t\t\t\t\t\tjustifyContent=\"flex-start\"\n\t\t\t\t\t\tmarginTop={{ base: '3', sm: '0' }}>\n\t\t\t\t\t\t{/* <BlogTags tags={['Engineering', 'Product']} /> */}\n\t\t\t\t\t\t<Skeleton isLoaded={!looks.get.loading}>\n\t\t\t\t\t\t<Heading marginTop=\"1\">\n\t\t\t\t\t\t\t<Link textDecoration=\"none\" _hover={{ textDecoration: 'none' }} to={`looks/${look.objectId}`}>\n\t\t\t\t\t\t\t\t{look.name}\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</Heading>\n\t\t\t\t\t\t<LooksCreatedDate date={look.createdAt} />\n\t\t\t\t\t\t</Skeleton>\n\t\t\t\t\t\t{renderLookPoints({ look })}\n\t\t\t\t\t\t<Stack direction='row' spacing={4} marginTop=\"5\">\n\t\t\t\t\t\t\t<Link to={`looks/${look.objectId}`}>\n\t\t\t\t\t\t\t\t<Button colorScheme=\"blue\" isFullWidth leftIcon={<IoCaretForwardOutline />} variant='solid'>\n\t\t\t\t\t\t\t\t\tView / Modify\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</Stack>\n\t\t\t\t\t</Box>\n\t\t\t\t</Box>\n\t\t\t\t<Divider marginTop=\"1em\" marginBottom=\"1em\"/>\n\t\t\t</Box>\n\t\t))\n\t} else if (!looks.get.success.data.length) {\n\t\treturn (\n\t\t\t<Box>\n\t\t\t\t<Flex direction=\"column\" align=\"center\">\n\t\t\t\t\t<VStack spacing=\"3\">\n\t\t\t\t\t\t<Heading as=\"h1\" size=\"md\">You have not created any looks yet.</Heading>\n\t\t\t\t\t</VStack>\n\t\t\t\t\t<br />\n\t\t\t\t\t<Divider />\n\t\t\t\t\t<br />\n\t\t\t\t\t<VStack spacing=\"3\">\n\t\t\t\t\t\t<Link to=\"/looks/create\">\n\t\t\t\t\t\t\t<Button>Create Look</Button>\t\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</VStack>\n\t\t\t\t</Flex>\n\t\t\t</Box>\n\t\t)\n\t}\n\treturn null;\n}\n\n  \nfunction Looks(props) {\n    const looks = useLooksStore((state) => state.looks);\n    const getLooks = useLooksStore((state) => state.getLooks);\n\t\tconst shop = useContext(ShopContext);\n\t\tconst scripts = useScriptsStore((state) => state.scripts);\n\t\tconst postScripts = useScriptsStore((state) => state.postScripts);\n\t\tconst getScripts = useScriptsStore((state) => state.getScripts);\n\t\tconst destroyScripts = useScriptsStore((state) => state.destroyScripts);\n    const toast = useToast();\n\t\tconst { isOpen, onOpen, onClose } = useDisclosure()\n\t\tconst orangeColorMode = useColorModeValue(\n\t\t\t'radial(orange.600 1px, transparent 1px)',\n\t\t\t'radial(orange.300 1px, transparent 1px)'\n\t\t);\n\t\tuseEffect(() => {\n\t\t\tgetLooks();\n\t\t\tgetScripts(shop);\n\t\t}, [])\n\t\t\n    \n\t\tconst renderWidgetStatusAlert = ({ looks }) => {\n\t\t\tif (!looks.get.success.data.length) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tconst enableWidget = async () => {\n\t\t\t\ttry {\n\t\t\t\t\tawait postScripts(shop);\n\t\t\t\t\ttoast({\n\t\t\t\t\t\ttitle: `Widget added successfully! Please visit your online store after 30 seconds to check the widget.`,\n\t\t\t\t\t\tstatus: 'success'\n\t\t\t\t\t});\n\t\t\t\t\tgetScripts(shop)\n\t\t\t\t} catch (e) {\n\t\t\t\t\ttoast({\n\t\t\t\t\t\ttitle: e.message || INTERNAL_SERVER_ERROR,\n\t\t\t\t\t\tstatus: 'error'\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}\n\t\t\n\t\t\tconst disableWidget = async () => {\n\t\t\t\ttry {\n\t\t\t\t\tawait destroyScripts(shop);\n\t\t\t\t\ttoast({\n\t\t\t\t\t\ttitle: `Widget removed successfully!`,\n\t\t\t\t\t\tstatus: 'success'\n\t\t\t\t\t});\n\t\t\t\t\tgetScripts(shop)\n\t\t\n\t\t\t\t} catch (e) {\n\t\t\t\t\ttoast({\n\t\t\t\t\t\ttitle: e.message || INTERNAL_SERVER_ERROR,\n\t\t\t\t\t\tstatus: 'error'\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst renderButton = () => {\n\t\t\t\tif (scripts.get.loading) {\n\t\t\t\t\treturn <Button colorScheme=\"gray\" isLoading isDisabled>Loading ...</Button>\n\t\t\t\t} else if (scripts.get.success.data.length) {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t<ChakraLink target=\"_blank\" href={`http://${shop}#frangout-shop-look-app-wrapper`}>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tfontWeight=\"bold\"\n\t\t\t\t\t\t\t\tsize=\"md\"\n\t\t\t\t\t\t\t\tcolorScheme=\"green\"\n\t\t\t\t\t\t\t\tvariant=\"ghost\"\n\t\t\t\t\t\t\t\tleftIcon={<LinkIcon />}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tPreview Widget\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</ChakraLink>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tisLoading={scripts.destroy.loading || scripts.get.loading}\n\t\t\t\t\t\t\tfontWeight=\"bold\"\n\t\t\t\t\t\t\tsize=\"md\"\n\t\t\t\t\t\t\tcolorScheme=\"red\"\n\t\t\t\t\t\t\tonClick={disableWidget}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tRemove Widget\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</>\n\t\t\t\t\t)\n\t\t\t\t} else {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tisLoading={scripts.post.loading || scripts.get.loading}\n\t\t\t\t\t\t\tfontWeight=\"bold\"\n\t\t\t\t\t\t\tsize=\"md\"\n\t\t\t\t\t\t\tcolorScheme='blue'\n\t\t\t\t\t\t\tonClick={enableWidget}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tAdd Widget To Your Store\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst renderScriptStatusText = () => {\n\t\t\t\tif (scripts.get.loading) {\n\t\t\t\t\treturn null;\n\t\t\t\t} else if (scripts.get.success.data.length) {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<Flex direction=\"column\">\n\t\t\t\t\t\t\t<Text>\n\t\t\t\t\t\t\t\t\"Shop The Look\" widget <b>has been added</b> to your store page. \n\t\t\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t\t<Text cursor=\"pointer\" onClick={onOpen} style={{ textDecoration: 'underline'}}>\n\t\t\t\t\t\t\t\t\tFor custom widget position instructions <b>click here.</b>\n\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t</Flex>\n\t\t\t\t\t)\n\t\t\t\t} else {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<Text>\n\t\t\t\t\t\t\t\"Shop The Look\" widget is <b>not added</b> to your store page.\n\t\t\t\t\t\t</Text>\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn (\n\t\t\t\t<Alert status='info'>\n\t\t\t\t\t<Flex direction=\"row\" justifyContent=\"space-between\" width=\"100%\" alignItems=\"center\" height=\"100%\">\n\t\t\t\t\t\t<Stack>\n\t\t\t\t\t\t\t{renderScriptStatusText()}\n\t\t\t\t\t\t</Stack>\n\t\t\t\t\t\t<ButtonGroup variant='outline' spacing='6'>\n\t\t\t\t\t\t\t{renderButton()}\n\t\t\t\t\t\t</ButtonGroup>\n\t\t\t\t\t</Flex>\n\t\t\t\t</Alert>\n\t\t\t)\n\t\t}\n\n    return (\n\t\t\t<>\n\t\t\t\t{renderWidgetStatusAlert({ looks })}\n\t\t\t\t<Container maxW={'7xl'} p=\"12\">\n\t\t\t\t\t<br />\n\t\t\t\t\t{renderLooks({ looks, orangeColorMode, getLooks })}\n\t\t\t\t</Container>\n\t\t\t\t<AlertDialog\n        \tonClose={onClose}\n        \tisOpen={isOpen}\n        \tisCentered\n\t\t\t\t\tsize=\"3xl\"\n      \t>\n        <AlertDialogOverlay />\n\n        <AlertDialogContent>\n          <AlertDialogHeader>Custom Widget Position</AlertDialogHeader>\n          <AlertDialogCloseButton />\n          <AlertDialogBody textAlign=\"center\">\n\t\t\t\t\t\tIf you want the widget only on certain pages or only in certain positions please add the following html tag to custom liquid or custom html section.\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<b><Code size=\"xl\" children={`<div id=\"frangout-shop-look-app\"> </div>`}></Code></b>\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<iframe width=\"720\" height=\"405\" src=\"https://www.youtube.com/embed/poWt-ssYDM8\" title=\"YouTube video player\" frameborder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen></iframe>\n\t\t\t\t\t</AlertDialogBody>\n          <AlertDialogFooter>\n            <Button onClick={onClose}>\n              Ok\n            </Button>\n          </AlertDialogFooter>\n        </AlertDialogContent>\n      </AlertDialog>\n\t\t</>\n  );\n};\n\n  \n  Looks.defaultProps = {\n  }\n\n  export default Looks;","import { useState } from \"react\";\nimport {\n\tBox,\n\tFormControl,\n\tFormLabel,\n\tFormErrorMessage,\n\tButton,\n\tInput,\n\tInputLeftAddon,\n\tInputGroup,\n\tDivider,\n\tText,\n\tImage,\n\tVStack,\n\tHeading\n} from \"@chakra-ui/react\"\n// import FlagImage from \"../../assets/shopify/images/flag.svg\";\n\nexport default function Authorize() {\n\tconst [storeDomain, setStoreDomain] = useState(''); \n  const [isShopifySiteURLInvalid, setIsShopifySiteURLInvalid] = useState(false);\n\n    const onAuthorize = () => {\n      if (!storeDomain) {\n\t\t\tsetIsShopifySiteURLInvalid(true);\n\t\t\treturn false;\n\t\t}\n      window.location.href=`${process.env.REACT_APP_SERVER_URL}/shopify?shop=${storeDomain}`\n    }\n\treturn (\n\t\t<Box marginTop=\"24\">\n\t\t\t<VStack>\n\t\t\t\t<Box boxSize=\"lg\">\n\t\t\t\t\t<VStack spacing=\"3\">\n\t\t\t\t\t\t{/* <Image boxSize=\"200px\" src={FlagImage}/> */}\n\t\t\t\t\t\t<Heading as=\"h1\" size=\"md\">Shopify Store Authentication</Heading>\n\t\t\t\t\t\t<Text>The access data to your Shopify site has expired.</Text>\n\t\t\t\t\t</VStack>\n\t\t\t\t\t<br />\n\t\t\t\t\t<Divider />\n\t\t\t\t\t<br />\n\t\t\t\t\t<VStack spacing=\"3\">\n\t\t\t\t\t\t<FormControl id=\"shopify-site\" isRequired isInvalid={isShopifySiteURLInvalid}>\n\t\t\t\t\t\t\t<FormLabel>Shopify site sub domain</FormLabel>\n\t\t\t\t\t\t\t<InputGroup>\n\t\t\t\t\t\t\t\t<InputLeftAddon children=\"https://\" />\n\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\tonChange={(e) => setStoreDomain(e.target.value)}\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tvalue={storeDomain}\n\t\t\t\t\t\t\t\t\tplaceholder=\"yourstore.myshopify.com\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</InputGroup>\n\t\t\t\t\t\t\t<FormErrorMessage>This is required</FormErrorMessage>\n\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t<Button onClick={onAuthorize} isFullWidth>Authorize</Button>\n\t\t\t\t\t</VStack>\n\t\t\t\t</Box>\n\t\t\t</VStack>\n\t\t</Box>\n\t);\n  }","import { useState, useEffect} from \"react\";\nimport {\n\tFlex,\n  Skeleton,\n  Box,\n  Container\n} from \"@chakra-ui/react\"\nimport {\n  Navigate\n} from \"react-router-dom\";\nimport NavBar from \"./components/navbar\";\nimport LooksRoute from \"./routes/looks\";\nimport { parseQuery } from \"./utils/url\";\nimport Authorize from \"./routes/shopify/Authorize\";\nimport Parse from \"parse\";\nfunction App() {\n  const [shopifySessionAvailable, setShopifySessionAvailable] = useState(false);\n  const [shopifyHmacAvailable, setShopifyHmacAvailable] = useState(false);\n  const [shopifyCodeAvailable, setShopifyCodeAvailable] = useState(false);\n  const [shopifyHostAvailable, setShopifyHostAvailable] = useState(false);\n  \n  // if ('storage' in navigator && 'estimate' in navigator.storage) {\n  //   navigator.storage.estimate().then(data => {\n  //     const {usage, quota} = data;\n  //     console.log(`Using ${usage} out of ${quota} bytes.`);\n  //     if(quota <= 1003575331){\n  //       console.log('Incognito')\n  //   } else {\n  //       try {\n  //         Parse.User.logOut();\n  //       } catch (e) {\n\n  //       }\n  //   }\n  //   })    \n  // } else {\n  //     console.log('Can not detect incognito')\n  // }\n\n  const [isEmbed, setIsEmbed] = useState(false);\n  useEffect(() => {\n    const { code, session, hmac, embed, host = '', userToken } = parseQuery(window.location.search);\n    window.lookbook = (parseQuery(window.location.search));\n    if (session) {\n      setShopifySessionAvailable(true);\n      setShopifyHmacAvailable(false);\n      setShopifyCodeAvailable(false);\n      setShopifyHostAvailable(false)\n    } else if (code) {\n      setShopifySessionAvailable(false);\n      setShopifyHmacAvailable(false);\n      setShopifyCodeAvailable(true);\n      setShopifyHostAvailable(false)\n      window.location.replace(`${process.env.REACT_APP_SERVER_URL}/shopify/callback${document.location.search}`)\n    } else if (hmac){\n      setShopifySessionAvailable(false);\n      setShopifyHmacAvailable(true);\n      setShopifyCodeAvailable(false)\n      setShopifyHostAvailable(false)\n      window.location.replace(`${process.env.REACT_APP_SERVER_URL}/shopify${document.location.search}`)\n    } else if (host && !code && !hmac) {\n      setShopifyHostAvailable(true);\n      setShopifySessionAvailable(false);\n      setShopifyHmacAvailable(false);\n      setShopifyCodeAvailable(false)\n    } else if (embed) {\n      setIsEmbed(true);\n      setShopifySessionAvailable(false);\n      setShopifyHmacAvailable(false);\n      setShopifyCodeAvailable(false)\n      setShopifyHostAvailable(false)\n    }\n\n    if (userToken) {\n      // if (Parse.User.current()) {\n      //   if (Parse.User.current().get('sessionToken') !== userToken) {\n      //     Parse.User.logOut().then(() => Parse.User.become(userToken)).catch(() => Parse.User.become(userToken))\n      //   }\n      // } else {\n      //   Parse.User.become(userToken);\n      // } \n    } else {\n    }\n  }, []);\n  \n\n  if (shopifySessionAvailable) {\n    return (\n      <>\n        <NavBar />\n        <LooksRoute />\n      </>\n    );\n  } else if (isEmbed) {\n    return <Navigate to=\"/embed\" replace />\n  } else if ((shopifyHmacAvailable || shopifyCodeAvailable) || shopifyHostAvailable) {\n    return (\t\n      <Container maxW={'7xl'} p=\"12\">\n        <Flex alignItems=\"flex-start\" flexDirection=\"row\">\n          <Skeleton> \n            <Box></Box>\n          </Skeleton>\n          <Flex direction=\"column\" width=\"90%\" marginLeft=\"5\">\n            <Skeleton width=\"100%\" height=\"40px\"> \n          </Skeleton>\n          <br />\n          <Skeleton width=\"100%\" height=\"20px\"> \n          </Skeleton>\n          <br />\n          <Skeleton width=\"100%\" height=\"20px\"> \n          </Skeleton>\n          <br />\n          <Skeleton width=\"100%\" height=\"20px\"> \n          </Skeleton>\n          </Flex>\n        </Flex>\n      </Container>\n    )\n  } else {\n    return <Authorize />\n  }\n}\n\nexport default App;\n","const getBase64 = async (file) => {\n  var reader = new FileReader();\n  reader.readAsDataURL(file);\n\n  return new Promise((reslove, reject) => {\n    reader.onload = () => reslove(reader.result);\n    reader.onerror = (error) => reject(error);\n  })\n}\nexport { getBase64 };","import create from \"zustand\";\nimport axios from \"axios\";\nimport produce from \"immer\";\nimport Parse from \"parse\";\nimport { INTERNAL_SERVER_ERROR } from \"../../constants/strings\";\nimport { getBase64 } from \"../../utils/media\";\n\nconst INITIAL_FILES_STATE = {\n\tget: {\n\t\tloading: false,\n\t\tsuccess: {\n\t\t\tok: false,\n\t\t\tdata: null,\n\t\t},\n\t\tfailure: {\n\t\t\terror: false,\n\t\t\tmessage: \"\",\n\t\t}\n\t},\n\tpost: {\n\t\tloading: false,\n\t\tsuccess: {\n\t\t\tok: false,\n\t\t\tdata: null,\n\t\t},\n\t\tfailure: {\n\t\t\terror: false,\n\t\t\tmessage: \"\",\n\t\t}\n\t},\n\tdestroy: {\n\t\tloading: false,\n\t\tsuccess: {\n\t\t\tok: false,\n\t\t\tdata: null,\n\t\t},\n\t\tfailure: {\n\t\t\terror: false,\n\t\t\tmessage: \"\",\n\t\t}\n\t}\n};\n\nconst useFilesStore = create((set, get) => ({\n\tfiles: INITIAL_FILES_STATE,\n\tgetFiles: async() => {\n\t\tset(produce(state => ({\n\t\t\t...state,\n\t\t\tfiles: {\n\t\t\t\t...state.files,\n\t\t\t\tget: {\n\t\t\t\t\t...INITIAL_FILES_STATE.get,\n\t\t\t\t\tloading: true,\n\t\t\t\t}\n\t\t\t}\n\t\t})))\n\n\t\ttry {\n\t\t\tconst { data } = await axios.get(``, {\n\t\t\t\theaders: {\n\t\t\t\t\tAuthorization: `Bearer ${window.localStorage.getItem('thinkificAccessToken')}`,\n\t\t\t\t\taccept: 'application/json',\n\t\t\t\t}\n\t\t\t});\n\t\t\tset(produce(state => ({\n\t\t\t\t...state,\n\t\t\t\tfiles: {\n\t\t\t\t\t...state.files,\n\t\t\t\t\tget: {\n\t\t\t\t\t\t...INITIAL_FILES_STATE.get,\n\t\t\t\t\t\tsuccess: {\n\t\t\t\t\t\t\tok: true,\n\t\t\t\t\t\t\tdata: [],\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})))\n\n\t\t} catch (e) {\n\t\t\tset(produce(state => ({\n\t\t\t\t...state,\n\t\t\t\tfiles: {\n\t\t\t\t\t...state.files,\n\t\t\t\t\tget: {\n\t\t\t\t\t\t...INITIAL_FILES_STATE.get,\n\t\t\t\t\t\tfailure: {\n\t\t\t\t\t\t\terror: true,\n\t\t\t\t\t\t\tmessage: e.message || INTERNAL_SERVER_ERROR,\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})))\n\t\t}\n\t},\n\tpostFiles: async (uploads) => {\n\t\tset(produce(state => ({\n\t\t\t...state,\n\t\t\tfiles: {\n\t\t\t\t...state.files,\n\t\t\t\tpost: {\n\t\t\t\t\t...INITIAL_FILES_STATE.post,\n\t\t\t\t\tloading: true,\n\t\t\t\t}\n\t\t\t}\n\t\t})))\n\n\t\ttry {\n\t\t\tconst base64s = await Promise.all(uploads.map(async upload => {\n\t\t\t\treturn {\n\t\t\t\t\tdata: await getBase64(upload),\n\t\t\t\t\ttype: upload.type,\n\t\t\t\t}\n\t\t\t}));\n\t\t\tconst savedFiles = await Promise.all(base64s.map(async (base64) => {\n\t\t\t\tconst parseFile = new Parse.File(\"looks\", { base64: base64.data }, base64.type );\n\t\t\t\t// const savedFile = await parseFile.save();\n\t\t\t\tconst { data } = await axios.post(`${process.env.REACT_APP_API_SHOPLOOKS_SERVER_URL}/parse/files/looks`, {\n\t\t\t\t\tbase64: parseFile?._source?.base64 || parseFile._data,\n\t\t\t\t\t_ApplicationId: Parse.applicationId,\n\t\t\t\t\t_ClientVersion: \"js3.4.1\",\n\t\t\t\t\t_ContentType: parseFile?._source?.type,\n\t\t\t\t\t_JavaScriptKey: Parse.javaScriptKey,\n\t\t\t\t\tfileData: { metadata: {}, tags: {} }\n\t\t\t\t}, {\n\t\t\t\t\theaders: {\n\t\t\t\t\t\t'content-type': 'text/plain'\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\treturn data;\n\t\t\t}));\n\t\t\tset(produce(state => ({\n\t\t\t\t...state,\n\t\t\t\tfiles: {\n\t\t\t\t\t...state.files,\n\t\t\t\t\tpost: {\n\t\t\t\t\t\t...INITIAL_FILES_STATE.post,\n\t\t\t\t\t\tsuccess: {\n\t\t\t\t\t\t\tok: true,\n\t\t\t\t\t\t\tdata: savedFiles\n\t\t\t\t\t\t},\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})))\n\t\t\treturn savedFiles;\n\n\t\t} catch (e) {\n\t\t\tset(produce(state => ({\n\t\t\t\t...state,\n\t\t\t\tfiles: {\n\t\t\t\t\t...state.files,\n\t\t\t\t\tpost: {\n\t\t\t\t\t\t...INITIAL_FILES_STATE.post,\n\t\t\t\t\t\tfailure: {\n\t\t\t\t\t\t\terror: true,\n\t\t\t\t\t\t\tmessage: e.message || INTERNAL_SERVER_ERROR\n\t\t\t\t\t\t},\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})))\n\t\t\tthrow e;\n\t\t}\n\t},\n\tdestroyFiles: async (id) => {\n\t\tset(produce(state => ({\n\t\t\t...state,\n\t\t\tfiles: {\n\t\t\t\t...state.files,\n\t\t\t\tdestroy: {\n\t\t\t\t\t...INITIAL_FILES_STATE.destroy,\n\t\t\t\t\tloading: true,\n\t\t\t\t}\n\t\t\t}\n\t\t})))\n\n\t\ttry {\n\t\t\tconst { data } = await axios.delete(``,{\n\t\t\t\theaders: {\n\t\t\t\t\tAuthorization: `Bearer ${window.localStorage.getItem('thinkificAccessToken')}`,\n\t\t\t\t\taccept: '*/*',\n\t\t\t\t\t'Access-Control-Allow-Origin': '*',\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tset(produce(state => ({\n\t\t\t\t...state,\n\t\t\t\tfiles: {\n\t\t\t\t\t...state.files,\n\t\t\t\t\tdestroy: {\n\t\t\t\t\t\t...INITIAL_FILES_STATE.destroy,\n\t\t\t\t\t\tsuccess: {\n\t\t\t\t\t\t\tok: true,\n\t\t\t\t\t\t\tdata,\n\t\t\t\t\t\t},\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})))\n\t\t\treturn data;\n\n\t\t} catch (e) {\n\t\t\tset(produce(state => ({\n\t\t\t\t...state,\n\t\t\t\tfiles: {\n\t\t\t\t\t...state.files,\n\t\t\t\t\tdestroy: {\n\t\t\t\t\t\t...INITIAL_FILES_STATE.destroy,\n\t\t\t\t\t\tfailure: {\n\t\t\t\t\t\t\terror: true,\n\t\t\t\t\t\t\tmessage: e.message || INTERNAL_SERVER_ERROR\n\t\t\t\t\t\t},\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})))\n\t\t\tthrow e;\n\t\t}\n\t}\n}));\n\nexport default useFilesStore;\n\t\n","import { useCallback, useState, useEffect } from \"react\";\nimport {\n\tModal,\n\tModalOverlay,\n\tModalContent,\n\tModalHeader,\n\tModalFooter,\n\tModalBody,\n\tModalCloseButton,\n\tSimpleGrid,\n\tButton,\n\tCenter,\n\tuseColorModeValue,\n\tText,\n\tImage,\n\tVStack,\n\tuseToast,\n} from '@chakra-ui/react'\nimport { useDropzone } from 'react-dropzone';\nimport useFilesStore from \"../../store/files\"; \nimport { INTERNAL_SERVER_ERROR } from \"../../constants/strings\";\n\nfunction Upload(props = {}) {\n\tconst { isOpen = false, onClose, on } = props;\n\tconst files = useFilesStore((state) => state.files);\n  const postFiles = useFilesStore((state) => state.postFiles);\n\tconst toast = useToast()\n\tconst [uploads, setUploads] = useState([]);\n\t\n\tconst onDrop = useCallback(async (acceptedUploads) => {\n\t\tsetUploads(acceptedUploads.map(file => Object.assign(file, {\n\t\t\tpreview: URL.createObjectURL(file)\n\t\t})));\n\t});\n\tconst { getRootProps, getInputProps, isDragActive } = useDropzone({\n\t\tonDrop, accept: 'image/*', maxFiles: 3, multiple: true,\n\t});\n\tuseEffect(() => {\n\t\tsetUploads([])\n\t}, [])\n\tuseEffect(() => () => {\n\t\tuploads.forEach(file => URL.revokeObjectURL(file.preview));\n\t}, [uploads])\n\t\n\tconst saveUploads = async () => {\n\t\ttry {\n\t\t\tconst data = await postFiles(uploads);\n\t\t\tsetUploads([]);\n\t\t\tonClose(data || []);\n\t\t} catch (e) {\n\t\t\ttoast({\n\t\t\t\ttitle: \"Incognito mode is not allowed. \" + (e.message || INTERNAL_SERVER_ERROR),\n\t\t\t\tstatus: 'error'\n\t\t\t})\n\t\t}\n\t}\n\n\tconst dropText = isDragActive ? 'Drop upto 3 png, jpeg or gifs here ...' : 'Drag \\'n\\' drop upto 3 png, jpeg or gifs files here, or click to select uploads';\n\tconst activeBg = useColorModeValue('gray.100', 'gray.600');\n\tconst borderColor = useColorModeValue(\n\t\tisDragActive ? 'teal.300' : 'gray.300',\n\t\tisDragActive ? 'teal.500' : 'gray.500',\n\t);\n\n\treturn (\n\t\t<Modal isOpen={isOpen} onClose={onClose} closeOnOverlayClick={false} onEsc={() => setUploads([])}>\n\t\t\t<ModalOverlay />\n\t\t\t<ModalContent>\n\t\t\t\t<ModalHeader>Add images for this look.</ModalHeader>\n\t\t\t\t<ModalBody>\n\t\t\t\t\t<Center\n\t\t\t\t\t\tp={10}\n\t\t\t\t\t\tcursor=\"pointer\"\n\t\t\t\t\t\tbg={isDragActive ? activeBg : 'transparent'}\n\t\t\t\t\t\t_hover={{ bg: activeBg }}\n\t\t\t\t\t\ttransition=\"background-color 0.2s ease\"\n\t\t\t\t\t\tborderRadius={4}\n\t\t\t\t\t\tborder=\"3px dashed\"\n\t\t\t\t\t\tborderColor={borderColor}\n\t\t\t\t\t\t{...getRootProps()}\n\t\t\t\t\t>\n\t\t\t\t\t<VStack>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<input {...getInputProps()} />\n\t\t\t\t\t\t<Text textAlign=\"center\">{dropText}</Text>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</VStack>\n\t\t\t\t</Center>\n\t\t\t\t<Center>\n\t\t\t\t\t<SimpleGrid spacing={5} columns={3} marginTop=\"5\">\n\t\t\t\t\t\t{uploads.map(file => (\n\t\t\t\t\t\t\t\t<Image key={file.name} src={file.preview} width={100} height={100} objectFit=\"cover\" borderRadius=\"5\" borderColor=\"gray\" borderWidth=\"2\" />\n\t\t\t\t\t\t))}\n\t\t\t\t\t</SimpleGrid>\n\t\t\t\t</Center>\n\t\t\t\t</ModalBody>\n\n\t\t\t\t<ModalFooter>\n\t\t\t\t\t<Button variant='ghost' onClick={() => { setUploads([]); onClose([])}} colorScheme='red'>Close</Button>\n\t\t\t\t\t<Button colorScheme='teal' mr={3} onClick={saveUploads} loadingText=\"Uploading...\" isLoading={files.post.loading}>\n\t\t\t\t\t\tUpload\n\t\t\t\t\t</Button>\n\t\t\t\t</ModalFooter>\n\t\t\t</ModalContent>\n\t\t</Modal>\n\t)\n}\n\nexport default Upload;","import { useEffect, useState, useContext } from \"react\";\nimport {\n\t\tBox,\n\t\tFlex,\n\t\tStack,\n\t\tHeading,\n\t\tText,\n\t\tContainer,\n\t\tInput,\n\t\tButton,\n\t\tSimpleGrid,\n\t\tuseBreakpointValue,\n\t\tFormControl,\n\t\tFormLabel,\n\t\tIcon,\n\t\tStackDivider,\n\t\tuseColorModeValue,\n\t\tImage,\n\t\tuseDisclosure,\n\t\tchakra,\n\t\ttoast,\n\t\tuseToast,\n\t\tAvatar,\n\t\tAvatarGroup,\n\t\tSkeletonText,\n\t\tSkeletonCircle,\n\t\tSkeleton,\n\t\tVStack,\n\t\tDivider,\n\t\tAvatarBadge,\n\t\tButtonGroup\n} from '@chakra-ui/react';\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport {\n\t\tIoClose,\n\t\tIoAddOutline,\n\t\tIoCloseCircleOutline,\n\t} from 'react-icons/io5';\nimport {ResourcePicker} from '@shopify/app-bridge-react';\nimport NavBar from \"../../components/navbar\";\n\nimport useFilesStore from \"../../store/files\"; \nimport useScriptsStore from \"../../store/scripts\";\n\nimport Upload from \"../../components/upload\";\nimport useLooksStore from \"../../store/looks\"\nimport { INTERNAL_SERVER_ERROR } from '../../constants/strings';\nimport { ShopContext } from \"../../context\";\n\nconst renderSkeleton = () => {\n\treturn (\n\t\t<Flex direction=\"column\" width=\"100%\">\n\t\t\t<Skeleton width=\"100%\" height=\"40px\"> </Skeleton>\n\t\t\t<SkeletonText mt='4' noOfLines={1} spacing='4' />\n\t\t\t<br />\n\t\t\t<br />\n\t\t\t<Box >\n\t\t\t\t<SkeletonCircle size='20' />\n\t\t\t\t<SkeletonText mt='4' noOfLines={4} spacing='4' />\n\t\t\t</Box>\n\t\t</Flex>\n\t)\n}\n\n\t\nfunction CreateLooks(props) {\n\tconst shop = useContext(ShopContext);\n\tconst { isOpen, onOpen, onClose } = useDisclosure()\n\tconst { isOpen: isResourcePickerOpen, onOpen: onResourcePickerOpen, onClose: onResourcePickerClose } = useDisclosure()\n\tconst looks = useLooksStore((state) => state.looks);\n\tconst files = useFilesStore((state) => state.files);\n\tconst getLooks = useLooksStore((state) => state.getLooks);\n\tconst postLooks = useLooksStore((state) => state.postLooks);\n\tconst destroyLooks = useLooksStore((state) => state.destroyLooks);\n\tconst patchLooks = useLooksStore((state) => state.patchLooks);\n\tconst scripts = useScriptsStore((state) => state.scripts);\n\tconst postScripts = useScriptsStore((state) => state.postScripts);\n\tconst getScripts = useScriptsStore((state) => state.getScripts);\n\n\tconst { id = '' } = useParams();\n\tconst toast = useToast();\n\tconst navigate = useNavigate()\n\tconst colorMode = useColorModeValue('gray.100', 'gray.700');\n\tconst [looksName, setLooksName] = useState(\n\t\tprops.looks.name\n\t);\n\tconst [uploads, setUploads] = useState(\n\t\tprops.looks.files || []\n\t);\n\tconst [products, setProducts] = useState(\n\t\tprops.looks.products || []\n\t);\n\tconst onUploadWidgetClose = (data = []) => {\n\t\tsetUploads([\n\t\t\t...uploads,\n\t\t\t...data\n\t\t])\n\t\tonClose();\n\t}\n\n\tconst onResourcePickerDone = (data = {}) => {\n\t\tsetProducts([\n\t\t\t...products.filter(Boolean),\n\t\t\t...data?.selection?.map(d => {\n\t\t\t\treturn {\n\t\t\t\t\ttitle: d.title,\n\t\t\t\t\timage: d.images[0] && d.images[0].originalSrc || '',\n\t\t\t\t\tid: d.id,\n\t\t\t\t}\n\t\t\t}).filter(Boolean),\n\t\t])\n\t\tonResourcePickerClose()\n\t}\n\n\tconst getLooskById = async () => {\n\t\tif (id) {\n\t\t\tconst data = await getLooks({ id });\n\t\t\tconsole.log(\"data is \", data)\n\t\t\tif (data) {\n\t\t\t\tsetLooksName(data?.name)\n\t\t\t\tsetUploads([\n\t\t\t\t\t...uploads,\n\t\t\t\t\t...data?.medias, \n\t\t\t\t])\n\t\t\t\t\n\t\t\t\tsetProducts([\n\t\t\t\t\t...products,\n\t\t\t\t\t...data?.products.map(p => ({\n\t\t\t\t\t\tid: p.admin_graphql_api_id,\n\t\t\t\t\t\ttitle: p.title,\n\t\t\t\t\t\timage: p.image.src\n\t\t\t\t\t}))\n\t\t\t\t])\n\t\t\t}\n\t\t}\n\t}\n\n\tuseEffect(() => {\n\t\tgetLooskById()\n\t}, [])\n\n\tconst removeUpload = (upload, index) => {\n\t\tuploads.splice(index, 1)\n\t\tsetUploads([...uploads.filter(Boolean)])\n\t}\n\n\tconst removeProduct = (index) => {\n\t\tproducts.splice(index, 1);\n\t\tsetProducts([...products.filter(Boolean)])\n\t}\n\n\tconst onDestroyLook = async (lookId) => {\n\t\ttry {\n\t\t\tawait destroyLooks(lookId);\n\t\t\ttoast({\n\t\t\t\ttitle: `Look deleted!`,\n\t\t\t\tstatus: 'success'\n\t\t\t});\n\t\t\twindow.history.back();\n\t\t} catch (e) {\n\t\t\ttoast({\n\t\t\t\ttitle: e.message || INTERNAL_SERVER_ERROR,\n\t\t\t\tstatus: 'error'\n\t\t\t})\n\t\t}\n\t}\n\tconst renderProducts = () => {\n\t\treturn products.map((product, index) => (\n\t\t\t<Stack id={product.id} key={index} justifyContent=\"space-between\"  direction={'row'} background=\"white\" padding=\"3\" borderRadius=\"lg\" marginBottom=\"4\" align={'center'}>\n\t\t\t\t<Flex flexDirection=\"row\" alignItems=\"center\">\n\t\t\t\t\t<Flex\n\t\t\t\t\t\tw={16}\n\t\t\t\t\t\th={16}\n\t\t\t\t\t\talign={'center'}\n\t\t\t\t\t\tjustify={'center'}\n\t\t\t\t\t\trounded={'full'}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Image objectFit=\"contain\" width=\"100%\" height=\"100%\" src={product.image} color={'yellow.500'} />\n\t\t\t\t\t</Flex>\n\t\t\t\t\t<Flex direction=\"column\">\n\t\t\t\t\t\t<Text marginLeft=\"3\" fontWeight={600}>{product.title}</Text>\n\t\t\t\t\t</Flex>\n\t\t\t\t</Flex>\n\t\t\t\t<Icon as={IoClose} color={'red.500'} w={5} h={5} onClick={() => removeProduct(index)} />\n\t\t\t</Stack>\n\t\t));\n\t}\n\tconst renderLooks = () => {\n\t\tif (looks.get.loading) {\n\t\t\treturn renderSkeleton();\n\t\t} else if (looks.get.failure.error) {\n\t\t\treturn (\n\t\t\t\t<Box>\n\t\t\t\t\t<Flex direction=\"column\" align=\"center\">\n\t\t\t\t\t\t<VStack spacing=\"3\">\n\t\t\t\t\t\t\t<Heading as=\"h1\" size=\"md\">{looks.get.failure.message}</Heading>\n\t\t\t\t\t\t</VStack>\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<Divider />\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<VStack spacing=\"3\">\n\t\t\t\t\t\t\t<Button onClick={() => getLooskById()}>Try Again</Button>\t\n\t\t\t\t\t\t</VStack>\n\t\t\t\t\t</Flex>\n\t\t\t\t</Box>\n\t\t\t)\n\t\t} else {\n\t\t\tconst { data } = looks?.get?.success;\n\t\t\treturn (\n\t\t\t\t<>\n\t\t\t\t\t<Stack spacing={4}>\n\t\t\t\t\t\t<Heading\n\t\t\t\t\t\t\tcolor={'gray.800'}\n\t\t\t\t\t\t\tlineHeight={1.1}\n\t\t\t\t\t\t\tfontSize={{ base: '2xl', sm: '3xl', md: '4xl' }}>\n\t\t\t\t\t\t\t{data && data.name ? data.name : 'Create a look'}\n\t\t\t\t\t\t</Heading>\n\t\t\t\t\t\t<Text color={'gray.500'} fontSize={{ base: 'sm', sm: 'md' }}>\n\t\t\t\t\t\t\tAdd a name for the look you create and link the products from your store that can form this look.\n\t\t\t\t\t\t</Text>\n\t\t\t\t\t</Stack>\n\t\t\t\t\t<Box mt={10}>\n\t\t\t\t\t\t<chakra.form\n\t\t\t\t\t\t\tonSubmit={async (e) => {\n\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\tif (id) {\n\t\t\t\t\t\t\t\t\tawait patchLooks({\n\t\t\t\t\t\t\t\t\t\t\tid,\n\t\t\t\t\t\t\t\t\t\t\tname: looksName,\n\t\t\t\t\t\t\t\t\t\t\tmedias: uploads,\n\t\t\t\t\t\t\t\t\t\t\tproducts: products.map(product => product.id),\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tawait postLooks({\n\t\t\t\t\t\t\t\t\t\t\tname: looksName,\n\t\t\t\t\t\t\t\t\t\t\tmedias: uploads,\n\t\t\t\t\t\t\t\t\t\t\tproducts: products.map(product => product.id),\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\t\t\tconst scriptsOnStore = await getScripts(shop);\n\t\t\t\t\t\t\t\t\t\t\tif (scriptsOnStore && scriptsOnStore.length) {\n\t\t\t\t\t\t\t\t\t\t\t\t// already has a script tag, do nothing.\n\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\tawait postScripts(shop)\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\twindow.history.back()\n\t\t\t\t\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\t\t\t\t\twindow.history.back()\n\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\ttoast({\n\t\t\t\t\t\t\t\t\t\ttitle: `Looks ${id ? 'updated' : 'created'} successfully!`,\n\t\t\t\t\t\t\t\t\t\tstatus: 'success'\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\t\t\ttoast({\n\t\t\t\t\t\t\t\t\t\ttitle: e.message || INTERNAL_SERVER_ERROR,\n\t\t\t\t\t\t\t\t\t\tstatus: 'error'\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t{...props}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t<Stack spacing={4}>\n\t\t\t\t\t\t\t<FormControl id='look-name'>\n\t\t\t\t\t\t\t\t<FormLabel>Look name</FormLabel>\n\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\tplaceholder=\"Winter Fashion Look\"\n\t\t\t\t\t\t\t\t\tname=\"look_name\"\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tvalue={looksName}\n\t\t\t\t\t\t\t\t\tonChange={(e) => setLooksName(e.target.value)}\n\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t\t<FormControl>\n\t\t\t\t\t\t\t\t<FormLabel>Add medias to this look</FormLabel>\n\t\t\t\t\t\t\t\t<AvatarGroup>\n\t\t\t\t\t\t\t\t\t{uploads.map((upload, index) => (\n\t\t\t\t\t\t\t\t\t\t<Avatar\n\t\t\t\t\t\t\t\t\t\t\tkey={(upload._name || upload.name) + index}\n\t\t\t\t\t\t\t\t\t\t\tname={upload._name || upload.name}\n\t\t\t\t\t\t\t\t\t\t\tsrc={upload._url || upload.url}\n\t\t\t\t\t\t\t\t\t\t\tsize=\"lg\"\n\t\t\t\t\t\t\t\t\t\t\t// size={useBreakpointValue({ base: 'md', md: 'lg' })}\n\t\t\t\t\t\t\t\t\t\t\tposition={'relative'}\n\t\t\t\t\t\t\t\t\t\t\tzIndex={2}\n\t\t\t\t\t\t\t\t\t\t\t_before={{\n\t\t\t\t\t\t\t\t\t\t\t\tcontent: '\"\"',\n\t\t\t\t\t\t\t\t\t\t\t\twidth: 'full',\n\t\t\t\t\t\t\t\t\t\t\t\theight: 'full',\n\t\t\t\t\t\t\t\t\t\t\t\trounded: 'full',\n\t\t\t\t\t\t\t\t\t\t\t\ttransform: 'scale(1.125)',\n\t\t\t\t\t\t\t\t\t\t\t\tbgGradient: 'linear(to-bl, red.400,pink.400)',\n\t\t\t\t\t\t\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\t\t\t\t\t\t\tzIndex: -1,\n\t\t\t\t\t\t\t\t\t\t\t\ttop: 0,\n\t\t\t\t\t\t\t\t\t\t\t\tleft: 0,\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<AvatarBadge  boxSize='1.25em' bg='red.500' onClick={() => removeUpload(upload, index)}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Icon as={IoCloseCircleOutline} color={'white.500'} w={5} h={5} />\n\t\t\t\t\t\t\t\t\t\t\t</AvatarBadge>\n\t\t\t\t\t\t\t\t\t\t</Avatar>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t<Avatar\n\t\t\t\t\t\t\t\t\tonClick={onOpen}\n\t\t\t\t\t\t\t\t\t\tsize=\"lg\"\n\t\t\t\t\t\t\t\t\t\tbg={'pink.400'}\n\t\t\t\t\t\t\t\t\t\t_hover={{ bg: 'pink.300' }}\n\t\t\t\t\t\t\t\t\t\tcursor=\"pointer\"\n\t\t\t\t\t\t\t\t\t\ticon={<IoAddOutline size=\"2em\" color=\"white\" />}\n\t\t\t\t\t\t\t\t\t\t_before={{\n\t\t\t\t\t\t\t\t\t\t\tcontent: '\"\"',\n\t\t\t\t\t\t\t\t\t\t\twidth: 'full',\n\t\t\t\t\t\t\t\t\t\t\theight: 'full',\n\t\t\t\t\t\t\t\t\t\t\trounded: 'full',\n\t\t\t\t\t\t\t\t\t\t\ttransform: 'scale(1.2)',\n\t\t\t\t\t\t\t\t\t\t\tbgGradient: 'linear(to-bl, red.400,pink.400)',\n\t\t\t\t\t\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\t\t\t\t\t\tzIndex: -1,\n\t\t\t\t\t\t\t\t\t\t\ttop: 0,\n\t\t\t\t\t\t\t\t\t\t\tleft: 0,\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t</Avatar>\n\t\t\t\t\t\t\t\t</AvatarGroup>\n\t\t\t\t\t\t\t\t<Upload isOpen={isOpen} onClose={onUploadWidgetClose} />\n\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t<FormControl id='look-products'>\n\t\t\t\t\t\t\t\t\t<FormLabel>Add products for this look</FormLabel>\n\t\t\t\t\t\t\t\t\t<Stack\n\t\t\t\t\t\t\t\t\t\tspacing={4}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{renderProducts()}\n\t\t\t\t\t\t\t\t\t</Stack>\n\t\t\t\t\t\t\t\t\t<Button fontFamily={'heading'} bg={'gray.200'} color={'gray.800'} onClick={onResourcePickerOpen}>\n\t\t\t\t\t\t\t\t\t\t\tLink products +\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t<ResourcePicker\n\t\t\t\t\t\t\t\t\t\tonSelection={onResourcePickerDone}\n\t\t\t\t\t\t\t\t\t\tonCancel={onResourcePickerClose}\n\t\t\t\t\t\t\t\t\t\tselectMultiple\n\t\t\t\t\t\t\t\t\t\tshowVariants={false}\n\t\t\t\t\t\t\t\t\t\tresourceType=\"Product\"\n\t\t\t\t\t\t\t\t\t\topen={isResourcePickerOpen}\n\t\t\t\t\t\t\t\t\t\tinitialSelectionIds={products.map(product => ({ id: product.id })).filter(Boolean)}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t</Stack>\n\t\t\t\t\t\t<ButtonGroup mt={8} width=\"full\">\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tdata && data.objectId ? (\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tisLoading={looks.destroy.loading}\n\t\t\t\t\t\t\t\t\t\tonClick={() => onDestroyLook(data.objectId)}\n\t\t\t\t\t\t\t\t\t\tisFullWidth\n\t\t\t\t\t\t\t\t\t\tvariant=\"ghost\"\n\t\t\t\t\t\t\t\t\t\tcolorScheme=\"red\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tDelete Look\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t) : null\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tisLoading={looks.post.loading || looks.patch.loading || scripts.get.loading || scripts.post.loading}\n\t\t\t\t\t\t\t\tdisabled={looks.post.loading || looks.patch.loading || scripts.get.loading || scripts.post.loading}\n\t\t\t\t\t\t\t\tloadingText={`${id ? 'Updating' : 'Saving'} look`}\n\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\tfontFamily={'heading'}\n\t\t\t\t\t\t\t\tisFullWidth\n\t\t\t\t\t\t\t\tw={'full'}\n\t\t\t\t\t\t\t\tbgGradient=\"linear(to-r, red.400,pink.400)\"\n\t\t\t\t\t\t\t\tcolor={'white'}\n\t\t\t\t\t\t\t\t_hover={{\n\t\t\t\t\t\t\t\t\tbgGradient: 'linear(to-r, red.400,pink.400)',\n\t\t\t\t\t\t\t\t\tboxShadow: 'xl',\n\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t{`${id ? 'Update' : 'Save'} look`}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t</ButtonGroup>\n\t\t\t\t\t</chakra.form>\n\t\t\t\t\t</Box>\n\t\t\t\t</>\n\t\t\t);\n\t\t}\n\t\treturn null;\n\t\t\n\t}\n\n\treturn (\n\t\t<>\n\t\t<NavBar />\n\t\t<Box position={'relative'}>\n\t\t\t<Container\n\t\t\t\tas={SimpleGrid}\n\t\t\t\tmaxW={'7xl'}\n\t\t\t\tcolumns={{ base: 1, md: 1 }}\n\t\t\t\tspacing={{ base: 10, lg: 32 }}\n\t\t\t\tpy={{ base: 10, sm: 15, lg: 20 }}\n\t\t\t>\n\t\t\t\t\n\t\t\t\t<Stack\n\t\t\t\t\tbg={'gray.50'}\n\t\t\t\t\trounded={'xl'}\n\t\t\t\t\tp={{ base: 4, sm: 6, md: 8 }}\n\t\t\t\t\tspacing={{ base: 8 }}\n\t\t\t\t\tmaxW=\"3xl\"\n\t\t\t\t\tzIndex=\"9\"\n\t\t\t\t\tmargin=\"0 auto\"\n\t\t\t\t\twidth=\"100%\"\n\t\t\t\t>\n\t\t\t\t\t{renderLooks()}\n\t\t\t\t</Stack>\n\t\t\t</Container>\n\t\t\t<Blur\n\t\t\t\tposition={'absolute'}\n\t\t\t\ttop={30}\n\t\t\t\tleft={-10}\n\t\t\t\tstyle={{ filter: 'blur(70px)' }}\n\t\t\t/>\n\t\t</Box>\n\t\t</>\n\t);\n}\n\t\n\texport const Blur = (props) => {\n\t\treturn (\n\t\t\t<Icon\n\t\t\t\twidth={useBreakpointValue({ base: '100%', md: '40vw', lg: '30vw' })}\n\t\t\t\tzIndex={useBreakpointValue({ base: -1, md: -1, lg: 0 })}\n\t\t\t\theight=\"560px\"\n\t\t\t\tviewBox=\"0 0 528 560\"\n\t\t\t\tfill=\"none\"\n\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t{...props}>\n\t\t\t\t<circle cx=\"71\" cy=\"61\" r=\"111\" fill=\"#F56565\" />\n\t\t\t\t<circle cx=\"244\" cy=\"106\" r=\"139\" fill=\"#ED64A6\" />\n\t\t\t\t<circle cy=\"291\" r=\"139\" fill=\"#ED64A6\" />\n\t\t\t\t<circle cx=\"80.5\" cy=\"189.5\" r=\"101.5\" fill=\"#ED8936\" />\n\t\t\t\t<circle cx=\"196.5\" cy=\"317.5\" r=\"101.5\" fill=\"#ECC94B\" />\n\t\t\t\t<circle cx=\"70.5\" cy=\"458.5\" r=\"101.5\" fill=\"#48BB78\" />\n\t\t\t\t<circle cx=\"426.5\" cy=\"-0.5\" r=\"101.5\" fill=\"#4299E1\" />\n\t\t\t</Icon>\n\t\t);\n\t};\n\n\n\tCreateLooks.defaultProps = {\n\t\tlooks: {\n\t\t\tname: ''\n\t\t}\n\t}\n\n\texport default CreateLooks;","import { useEffect, useContext } from \"react\";\nimport {\n\tBox,\n  Heading,\n  ButtonGroup,\n  Text,\n  Button,\n  Container,\n\tuseToast,\n\tCode,\n\tDivider\n} from '@chakra-ui/react';\nimport useScriptsStore from \"../../store/scripts\";\nimport { ShopContext } from \"../../context\";\nimport { INTERNAL_SERVER_ERROR } from \"../../constants/strings\";\nimport NavBar from \"../../components/navbar\";\n\n\nconst SettingsRoute = () => {\n\tconst shop = useContext(ShopContext);\n\tconst scripts = useScriptsStore((state) => state.scripts);\n  const postScripts = useScriptsStore((state) => state.postScripts);\n\tconst getScripts = useScriptsStore((state) => state.getScripts);\n\tconst destroyScripts = useScriptsStore((state) => state.destroyScripts);\n\tconst toast = useToast();\n\n\n\tuseEffect(() => {\n\t\tgetScripts(shop);\n\t}, []);\n\n\tconst enableWidget = async () => {\n\t\ttry {\n\t\t\tawait postScripts(shop);\n\t\t\ttoast({\n\t\t\t\ttitle: `Widget added successfully! Please visit your online store after 30 seconds to check the widget.`,\n\t\t\t\tstatus: 'success'\n\t\t\t});\n\t\t\tgetScripts(shop)\n\t\t} catch (e) {\n\t\t\ttoast({\n\t\t\t\ttitle: e.message || INTERNAL_SERVER_ERROR,\n\t\t\t\tstatus: 'error'\n\t\t\t})\n\t\t}\n\t}\n\n\tconst disableWidget = async () => {\n\t\ttry {\n\t\t\tawait destroyScripts(shop);\n\t\t\ttoast({\n\t\t\t\ttitle: `Widget removed successfully!`,\n\t\t\t\tstatus: 'success'\n\t\t\t});\n\t\t\tgetScripts(shop)\n\n\t\t} catch (e) {\n\t\t\ttoast({\n\t\t\t\ttitle: e.message || INTERNAL_SERVER_ERROR,\n\t\t\t\tstatus: 'error'\n\t\t\t})\n\t\t}\n\t}\n\n\n\tconst renderButton = () => {\n\t\tif (scripts.get.loading) {\n\t\t\treturn <Button colorScheme=\"gray\" isLoading isDisabled>Loading ...</Button>\n\t\t} else if (scripts.get.success.data.length) {\n\t\t\treturn (\n\t\t\t\t<Button\n\t\t\t\t\tisLoading={scripts.destroy.loading || scripts.get.loading}\n\t\t\t\t\tfontWeight=\"bold\"\n\t\t\t\t\tsize=\"lg\"\n\t\t\t\t\tcolorScheme=\"red\"\n\t\t\t\t\tonClick={disableWidget}\n\t\t\t\t>\n\t\t\t\t\tRemove Widget From Your Store\n\t\t\t\t</Button>\n\t\t\t)\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<Button\n\t\t\t\t\tisLoading={scripts.post.loading || scripts.get.loading}\n\t\t\t\t\tfontWeight=\"bold\"\n\t\t\t\t\tsize=\"lg\"\n\t\t\t\t\tcolorScheme='blue'\n\t\t\t\t\tonClick={enableWidget}\n\t\t\t\t>\n\t\t\t\t\tAdd Widget To Your Store\n\t\t\t\t</Button>\n\t\t\t)\n\t\t}\n\t}\n\t\n\treturn  (\n\t\t<>\n\t\t<NavBar />\n\t\t<Container maxW={'7xl'} p=\"12\">\n\t\t\t<Box as=\"section\">\n\t\t\t\t<Box\n\t\t\t\t\tmaxW=\"2xl\"\n\t\t\t\t\tmx=\"auto\"\n\t\t\t\t\tpx={{ base: '6', lg: '8' }}\n\t\t\t\t\tpy={{ base: '16', sm: '20' }}\n\t\t\t\t\ttextAlign=\"center\"\n\t\t\t\t>\n\t\t\t\t\t<Heading size=\"3xl\" fontWeight=\"extrabold\" letterSpacing=\"tight\">\n\t\t\t\t\t\tWidget embed settings\n\t\t\t\t\t</Heading>\n\t\t\t\t\t<Text mt=\"4\" fontSize=\"lg\">\n\t\t\t\t\t\tEnable or disable \"Shop the look\" widget on your store. The widget gets appended to the bottom of your store page above the\n\t\t\t\t\t\tfooter on the home page.\n\t\t\t\t\t</Text>\n\t\t\t\t\t<ButtonGroup mt=\"8\" variant='outline' spacing='6'>\n\t\t\t\t\t\t{renderButton()}\n\t\t\t\t\t</ButtonGroup>\n\n\t\t\t\t\t<br />\n\t\t\t\t\t<br />\n\t\t\t\t\t<Divider />\n\t\t\t\t\t<Text mt=\"4\" fontSize=\"lg\">\n\t\t\t\t\t\tNOTE: If you want the widget only on certain pages or only in certain positions please add the following html tag to custom liquid or custom html section.\n\t\t\t\t\t</Text>\n\n\t\t\t\t\t<br />\n\t\t\t\t\t<Code children={`<div id=\"frangout-shop-look-app\"> </div>`}></Code>\n\t\t\t\t\n\t\t\t\t</Box>\n\t\t\t</Box>\n\t\t</Container>\n\t\t</>\n\t)\n\n}\n\nexport default SettingsRoute;","import create from \"zustand\";\nimport produce from \"immer\";\nimport Parse from \"parse\";\nimport { INTERNAL_SERVER_ERROR } from \"../../constants/strings\";\nimport axios from \"axios\";\n\nconst INITIAL_PRODUCTS_STATE = {\n\tget: {\n\t\tloading: false,\n\t\tsuccess: {\n\t\t\tok: false,\n\t\t\tdata: [],\n\t\t},\n\t\tfailure: {\n\t\t\terror: false,\n\t\t\tmessage: \"\",\n\t\t}\n\t},\n};\n\nconst useProductsStore = create((set, get) => ({\n\tproducts: INITIAL_PRODUCTS_STATE,\n\tgetProducts: async({ products = [], shop } = {}) => {\n\t\tset(produce(state => ({\n\t\t\t...state,\n\t\t\tproducts: {\n\t\t\t\t...state.products,\n\t\t\t\tget: {\n\t\t\t\t\t...INITIAL_PRODUCTS_STATE.get,\n\t\t\t\t\tloading: true,\n\t\t\t\t}\n\t\t\t}\n\t\t})))\n\n\t\ttry {\n\t\t\tconst ids = products.map(p => {\n\t\t\t\tif (typeof p === \"string\") {\n\t\t\t\t\treturn p.split('/')?.pop()\n\t\t\t\t}\n\t\t\t\treturn undefined\n\t\t\t}).filter(Boolean);\n\n\t\t\tconst { data } = await axios.get(\n\t\t\t\t`${process.env.REACT_APP_API_SHOPLOOKS_SERVER_URL}/api/get_products?shop=${shop}&ids=${ids}`\n\t\t\t);\n\t\t\tset(produce(state => ({\n\t\t\t\t...state,\n\t\t\t\tproducts: {\n\t\t\t\t\t...state.products,\n\t\t\t\t\tget: {\n\t\t\t\t\t\t...INITIAL_PRODUCTS_STATE.get,\n\t\t\t\t\t\tsuccess: {\n\t\t\t\t\t\t\tok: true,\n\t\t\t\t\t\t\tdata,\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})));\n\n\t\t\treturn data;\n\n\t\t} catch (e) {\n\t\t\tset(produce(state => ({\n\t\t\t\t...state,\n\t\t\t\tproducts: {\n\t\t\t\t\t...state.products,\n\t\t\t\t\tget: {\n\t\t\t\t\t\t...INITIAL_PRODUCTS_STATE.get,\n\t\t\t\t\t\tfailure: {\n\t\t\t\t\t\t\terror: true,\n\t\t\t\t\t\t\tmessage: e.message || INTERNAL_SERVER_ERROR,\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})))\n\t\t}\n\t},\n}));\n\nexport default useProductsStore;\n\t\n","import { useEffect, useState, useContext } from \"react\";\nimport {\n  Container,\n\tBox,\n  Center,\n  useColorModeValue,\n  Heading,\n  Text,\n  Stack,\n  Link,\n\tButton,\n\tFlex,\n\tSimpleGrid,\n\tVStack,\n\tDivider,\n\tSkeleton,\n\tuseDisclosure,\n\tModal,\n\tModalBody,\n\tModalCloseButton,\n\tModalContent,\n\tModalFooter,\n\tModalOverlay,\n\tModalHeader,\n\tuseBreakpointValue\n} from '@chakra-ui/react';\nimport Carousel from \"../../components/carousel\";\nimport useLooksStore from \"../../store/looks\"\nimport useProductsStore from \"../../store/products\";\nimport { ExternalLinkIcon } from \"@chakra-ui/icons\";\nimport { ShopContext } from \"../../context\";\nimport \"../../embed.css\"\n\nconst ProductsModal = (props) => {\n\tconst { isOpen, onClose, productIds = [], lookId } = props;\n\tconst products = useProductsStore((state) => state.products);\n\tconst getProducts = useProductsStore((state) => state.getProducts);\n\tconst shop = useContext(ShopContext);\n\n\tuseEffect(() => {\n\t\tgetProducts({ products: productIds, shop });\n\t}, [])\n\n\tconst renderProducts = () => {\n\t\tif (products.get.loading) {\n\t\t\treturn <SimpleGrid  minChildWidth='330px' spacing='10px'>\n\t\t\t\t{\n\t\t\t\t\t[1,2,3].map((e,i) => (\n\t\t\t\t\t\t<Center p={4} key={i}>\n\t\t\t\t\t\t\t<Skeleton width=\"330px\" height=\"330px\" />\n\t\t\t\t\t\t</Center>\n\t\t\t\t\t))\n\t\t\t\t}\n\t\t\t</SimpleGrid>\n\t\t} else if (products.get.failure.error) {\n\t\t\treturn (\n\t\t\t\t<Box>\n\t\t\t\t\t<Flex direction=\"column\" align=\"center\">\n\t\t\t\t\t\t<VStack spacing=\"3\">\n\t\t\t\t\t\t\t<Heading as=\"h1\" size=\"md\">{products.get.failure.message}</Heading>\n\t\t\t\t\t\t</VStack>\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<Divider />\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<VStack spacing=\"3\">\n\t\t\t\t\t\t\t<Button onClick={() => getProducts({ products: productIds, shop })}>Try Again</Button>\t\n\t\t\t\t\t\t</VStack>\n\t\t\t\t\t</Flex>\n\t\t\t\t</Box>\n\t\t\t)\n\t\t} else if (products.get.success.data.length) {\n\t\t\treturn (\n\t\t\t\t<SimpleGrid  minChildWidth='330px' spacing='10px'>\n\t\t\t\t\t{\n\t\t\t\t\t\tproducts.get.success.data.map(product => (\n\t\t\t\t\t\t\t<Center py={8} key={product.admin_graphql_api_id || product.id}>\n\t\t\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\t\t\trole={'group'}\n\t\t\t\t\t\t\t\t\tp={4}\n\t\t\t\t\t\t\t\t\tmaxW={'330px'}\n\t\t\t\t\t\t\t\t\tw={'full'}\n\t\t\t\t\t\t\t\t\tboxShadow={'2xl'}\n\t\t\t\t\t\t\t\t\trounded={'lg'}\n\t\t\t\t\t\t\t\t\tpos={'relative'}\n\t\t\t\t\t\t\t\t\tzIndex={1}>\n\t\t\t\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\t\t\t\trounded={'lg'}\n\t\t\t\t\t\t\t\t\t\tmt={-12}\n\t\t\t\t\t\t\t\t\t\tpos={'relative'}\n\t\t\t\t\t\t\t\t\t\theight={'260px'}\n\t\t\t\t\t\t\t\t\t\t_groupHover={{\n\t\t\t\t\t\t\t\t\t\t\t_after: {\n\t\t\t\t\t\t\t\t\t\t\t\tfilter: 'blur(20px)',\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t\t<Carousel medias={product.images} height={260} width={282} />\n\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t\t<Stack pt={3} align={'center'}>\n\t\t\t\t\t\t\t\t\t\t<Text color={'gray.500'} fontSize={'sm'} textTransform={'uppercase'}>\n\t\t\t\t\t\t\t\t\t\t\t{product.variants && product.variants.length ? `${product.variants.length} variants available` : null }\n\t\t\t\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t\t\t\t\t<Heading textAlign=\"center\" fontSize={'2xl'} fontFamily={'body'} fontWeight={500}>\n\t\t\t\t\t\t\t\t\t\t\t{product.title}\n\t\t\t\t\t\t\t\t\t\t</Heading>\n\t\t\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\t\t\tmarginTop={\"10px\"}\n\t\t\t\t\t\t\t\t\t\t\thref={`http://${shop}/products/${product.handle}?app=shoplook&lookid=${lookId}`}\n\t\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t\t\t\twidth=\"full\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<Button isFullWidth rightIcon={<ExternalLinkIcon />}>View Product</Button>\n\t\t\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t</Stack>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t</Center>\n\t\t\t\t\t\t))\n\t\t\t\t\t}\n\t\t\t\t</SimpleGrid>\n\t\t\t);\n\t\t\n\t\t} else {\n\t\t\treturn null;\n\t\t}\n\t}\n  return (\n    <>\n      <Modal isCentered scrollBehavior={\"inside\"} closeOnOverlayClick blockScrollOnMount={false} preserveScrollBarGap lockFocusAcrossFrames={false} isOpen={isOpen} onClose={onClose} size=\"xl\">\n        <ModalOverlay />\n        <ModalContent>\n          <ModalHeader>Shop the products in this look</ModalHeader>\n          <ModalCloseButton />\n          <ModalBody>\n\t\t\t\t\t\t{renderProducts()}\n          </ModalBody>\n\n          <ModalFooter>\n            <Button colorScheme='blue' mr={3} onClick={onClose}>\n              Close\n            </Button>\n          </ModalFooter>\n        </ModalContent>\n      </Modal>\n    </>\n  )\n}\n\nconst EmbedRoute = (props) => {\n\tconst bgColor = useColorModeValue('white', 'gray.800');\n  const looks = useLooksStore((state) => state.looks);\n  const getLooks = useLooksStore((state) => state.getLooks);\n\tconst shop = useContext(ShopContext);\n\tconst { isOpen, onOpen, onClose } = useDisclosure();\n\tconst [productIds, setProductIds] = useState([]);\n\tconst [isModalvis, setIsModalvis] = useState(false);\n\tconst [currentLookId, setCurrentLookId] = useState('');\n\t\n\tuseEffect(() => {\n\t\tgetLooks({ shop })\n\t}, []);\n\n\tconst onLooksClick = ({ lookId, products }) => {\n\t\tsetProductIds(products);\n\t\tsetCurrentLookId(lookId);\n\t\tsetIsModalvis(true);\n\t\tonOpen();\n\t}\n\n\tconst onModalClose = () => {\n\t\tsetCurrentLookId('');\n\t\tsetProductIds([]);\n\t\tsetIsModalvis(false);\n\t\tonClose();\n\t}\n\n\tconst renderList = () => {\n\t\tif (looks.get.loading) {\n\t\t\treturn [1,2,3].map((e, i) => (\n\t\t\t\t<Center key={i}>\n\t\t\t\t\t<Skeleton width=\"330px\" height=\"330px\" />\n\t\t\t\t</Center>\n\t\t\t));\n\t\t} else if (looks.get.failure.error) {\n\t\t\treturn (\n\t\t\t\t<Box>\n\t\t\t\t\t<Flex direction=\"column\" align=\"center\">\n\t\t\t\t\t\t<VStack spacing=\"3\">\n\t\t\t\t\t\t\t<Heading as=\"h1\" size=\"md\">{looks.get.failure.message}</Heading>\n\t\t\t\t\t\t</VStack>\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<Divider />\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<VStack spacing=\"3\">\n\t\t\t\t\t\t\t<Button onClick={() => getLooks({ shop })}>Try Again</Button>\t\n\t\t\t\t\t\t</VStack>\n\t\t\t\t\t</Flex>\n\t\t\t\t</Box>\n\t\t\t);\n\t\t} else if (looks.get.success.data.length) {\n\t\t\treturn (\n\t\t\t\t<>\n\t\t\t\t\t{ isModalvis ? <ProductsModal isOpen={isOpen} onClose={onModalClose} lookId={currentLookId} productIds={productIds} /> : null }\n\t\t\t\t\t{\n\t\t\t\t\t\tlooks.get.success.data.map(look => (\n\t\t\t\t\t\t\t<Center py={8} key={look.id || look.objectId}>\n\t\t\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\t\t\trole={'group'}\n\t\t\t\t\t\t\t\t\tp={4}\n\t\t\t\t\t\t\t\t\tmaxW={'330px'}\n\t\t\t\t\t\t\t\t\tw={'full'}\n\t\t\t\t\t\t\t\t\tbg={bgColor}\n\t\t\t\t\t\t\t\t\tboxShadow={'2xl'}\n\t\t\t\t\t\t\t\t\trounded={'lg'}\n\t\t\t\t\t\t\t\t\tpos={'relative'}\n\t\t\t\t\t\t\t\t\tzIndex={1}>\n\t\t\t\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\t\t\t\trounded={'lg'}\n\t\t\t\t\t\t\t\t\t\tmt={-12}\n\t\t\t\t\t\t\t\t\t\tpos={'relative'}\n\t\t\t\t\t\t\t\t\t\theight={'260px'}\n\t\t\t\t\t\t\t\t\t\t// _after={{\n\t\t\t\t\t\t\t\t\t\t// \ttransition: 'all .3s ease',\n\t\t\t\t\t\t\t\t\t\t// \tcontent: '\"\"',\n\t\t\t\t\t\t\t\t\t\t// \tw: 'full',\n\t\t\t\t\t\t\t\t\t\t// \th: 'full',\n\t\t\t\t\t\t\t\t\t\t// \tpos: 'absolute',\n\t\t\t\t\t\t\t\t\t\t// \ttop: 5,\n\t\t\t\t\t\t\t\t\t\t// \tleft: 0,\n\t\t\t\t\t\t\t\t\t\t// \tbackgroundImage: `url(${look.get('medias')[0].url()})`,\n\t\t\t\t\t\t\t\t\t\t// \tfilter: 'blur(15px)',\n\t\t\t\t\t\t\t\t\t\t// \tzIndex: -1,\n\t\t\t\t\t\t\t\t\t\t// }}\n\t\t\t\t\t\t\t\t\t\t_groupHover={{\n\t\t\t\t\t\t\t\t\t\t\t_after: {\n\t\t\t\t\t\t\t\t\t\t\t\tfilter: 'blur(20px)',\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t\t{/* <Image\n\t\t\t\t\t\t\t\t\t\t\trounded={'lg'}\n\t\t\t\t\t\t\t\t\t\t\theight={230}\n\t\t\t\t\t\t\t\t\t\t\twidth={282}\n\t\t\t\t\t\t\t\t\t\t\tobjectFit={'cover'}\n\t\t\t\t\t\t\t\t\t\t\tsrc={'https://images.unsplash.com/photo-1518051870910-a46e30d9db16?ixlib=rb-1.2.1&ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&auto=format&fit=crop&w=1350&q=80'}\n\t\t\t\t\t\t\t\t\t\t/> */}\n\t\t\t\t\t\t\t\t\t\t<Carousel medias={look.medias} height={260} width={282} />\n\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t\t<Stack pt={3} align={'center'}>\n\t\t\t\t\t\t\t\t\t\t<Text color={'gray.500'} fontSize={'sm'} textTransform={'uppercase'}>\n\t\t\t\t\t\t\t\t\t\t\t{look.products.length} products in this look\n\t\t\t\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t\t\t\t\t<Heading fontSize={'2xl'} fontFamily={'body'} fontWeight={500}>\n\t\t\t\t\t\t\t\t\t\t\t{look.name}\n\t\t\t\t\t\t\t\t\t\t</Heading>\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\tmarginTop={\"10px\"}\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => onLooksClick({ lookId: look.id || look.objectId, products: look.products})}\n\t\t\t\t\t\t\t\t\t\t\tisFullWidth\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\tShop The Look\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t</Stack>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t</Center>\n\t\t\t\t\t\t))\n\t\t\t\t\t}\n\t\t\t\t</>\n\t\t\t);\n\t\t}\n\t}\n\t\n\treturn  (\n\t\t<Container maxW={'7xl'} p=\"12\">\n\t\t\t<Center>\n\t\t\t\t<Heading>Shop The Look</Heading>\n\t\t\t</Center>\n\t\t\t<br />\n\t\t\t<SimpleGrid minChildWidth='330px' spacing='10px'>\t\t\t\t\n\t\t\t\t{renderList()}\n\t\t\t</SimpleGrid>\n\t\t</Container>\n\t)\n\n}\n\nexport default EmbedRoute;","import React, { useEffect } from 'react';\nimport {\n  Routes,\n  Route,\n  Navigate,\n} from \"react-router-dom\";\nimport App from '../App';\nimport LookRoute from \"./look\";\nimport Authorize from \"./shopify/Authorize\";\nimport SettingsRoute from \"./settings\";\nimport EmbedRoute from './embed';\n// You should always import these components even without using else app back navigation will break\nimport { ClientRouter, useClientRouting, useRoutePropagation, RoutePropagator } from '@shopify/app-bridge-react';\nconst AppRoutes = (props) => {\n\n\n\treturn (\n\t\t<>\n\t\t<Routes>\n\t\t\t{/* <Route path=\"/shopify\" element={<Authorize />} />\n\t\t\t<Route path=\"/shopify/callback\" element={<Authorize />} />\n\t\t\t<Route\n\t\t\t\t\tpath=\"/install\"\n\t\t\t\t\telement={<Navigate to={{\n\t\t\t\t\t\tpathname: \"/shopify/authorize\",\n\t\t\t\t\t\tsearch: window.location.search,\n\t\t\t\t\t}} replace={true} />}\n\t\t\t\t/>\n\t\t\t<Route path=\"/shopify/authorize\" element={<Authorize />} /> */}\n\t\t\t<Route path=\"/embed\" element={<EmbedRoute />} />\n\t\t\t<Route path=\"/settings\" element={<SettingsRoute />} />\n\t\t\t<Route path=\"/looks\" element={<App />} />\n\t\t\t<Route path=\"/looks/:id\" element={<LookRoute />} />\n\t\t\t<Route path=\"/looks/create\" element={<LookRoute />} />\n\t\t\t<Route path=\"/shopify\" element={<App />} />\n\t\t\t<Route path=\"/shopify/callback\" element={<App />} />\n\t\t\t<Route path=\"/authorize\" element={<Authorize />} />\n\t\t\t<Route path=\"/\" element={<App />} />\n\t\t</Routes>\n\t\t</>\n\t)\n}\n\nexport default AppRoutes","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { ChakraProvider } from \"@chakra-ui/react\"\nimport {\n  BrowserRouter,\n} from \"react-router-dom\";\nimport Parse from \"parse\";\nimport './index.css';\nimport {Provider} from '@shopify/app-bridge-react';\nimport { parseQuery } from \"./utils/url\";\nimport AppRoutes from \"./routes\"\nimport { ShopContext } from \"./context\";\n\nParse.initialize(process.env.REACT_APP_API_SHOPLOOKS_PARSE_APP_ID, process.env.REACT_APP_API_SHOPLOOKS_PARSE_JSKEY);\nParse.serverURL = process.env.REACT_APP_API_SHOPLOOKS_SERVER_URL + '/parse';\n\nconst { host, shop = '' } = parseQuery(window.location.search);\nif (!host) {\n  ReactDOM.render(\n    <React.StrictMode>\n        <ChakraProvider>\n          <BrowserRouter>\n            <ShopContext.Provider value={shop}>\n              <AppRoutes />\n            </ShopContext.Provider>\n          </BrowserRouter>\n        </ChakraProvider>\n    </React.StrictMode>,\n    document.getElementById('root')\n  );\n  \n} else {\n  ReactDOM.render(\n    <React.StrictMode>\n        <ChakraProvider>\n          <BrowserRouter>\n            <Provider config={{ apiKey: process.env.REACT_APP_SHOPIFY_API_KEY, host: host,  forceRedirect: true }}>\n              <ShopContext.Provider value={shop}>\n                <AppRoutes />\n              </ShopContext.Provider>\n            </Provider>\n          </BrowserRouter>\n        </ChakraProvider>\n    </React.StrictMode>,\n    document.getElementById('root')\n  );\n}\n"],"sourceRoot":""}